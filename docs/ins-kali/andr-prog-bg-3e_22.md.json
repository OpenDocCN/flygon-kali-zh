["```kt\n// These will be used to make simple buttons\nprivate RectF mResetButton;\nprivate RectF mTogglePauseButton;\n```", "```kt\n// Initialize the two buttons\nmResetButton = new RectF(0, 0, 100, 100);\nmTogglePauseButton = new RectF(0, 150, 100, 250);\n```", "```kt\nimport android.graphics.RectF;\n```", "```kt\n// Draw the buttons\nmCanvas.drawRect(mResetButton, mPaint);\nmCanvas.drawRect(mTogglePauseButton, mPaint);\n```", "```kt\nimport android.graphics.PointF;\nclass Particle {\n\u00a0\u00a0\u00a0\u00a0PointF mVelocity;\n\u00a0\u00a0\u00a0\u00a0PointF mPosition;\n\u00a0\u00a0\u00a0\u00a0Particle(PointF direction)\n\u00a0\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mVelocity = new PointF();\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mPosition = new PointF();\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Determine the direction\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mVelocity.x = direction.x;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mVelocity.y = direction.y;\n\u00a0\u00a0\u00a0\u00a0}\n}\n```", "```kt\nvoid update(float fps)\n{\n\u00a0\u00a0\u00a0// Move the particle\n\u00a0\u00a0\u00a0mPosition.x += mVelocity.x;\n\u00a0\u00a0\u00a0mPosition.y += mVelocity.y;\n}\nvoid setPosition(PointF position)\n{\n\u00a0\u00a0\u00a0mPosition.x = position.x;\n\u00a0\u00a0\u00a0mPosition.y = position.y;\n}\nPointF getPosition()\n{\n\u00a0\u00a0\u00a0return mPosition;\n}\n```", "```kt\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.PointF;\nimport java.util.ArrayList;\nimport java.util.Random;\nclass ParticleSystem {\n\u00a0\u00a0\u00a0\u00a0private float mDuration;\n\u00a0\u00a0\u00a0\u00a0private ArrayList<Particle> mParticles;\n\u00a0\u00a0\u00a0\u00a0private Random random = new Random();\n\u00a0\u00a0\u00a0\u00a0boolean mIsRunning = false;\n\n}\n```", "```kt\nvoid init(int numParticles){\n\u00a0\u00a0\u00a0mParticles = new ArrayList<>();\n\u00a0\u00a0\u00a0// Create the particles\n\u00a0\u00a0\u00a0for (int i = 0; i < numParticles; i++){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0float angle = (random.nextInt(360)) ;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0angle = angle * 3.14f / 180.f;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 1 - Slow particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//float speed = (random.nextFloat()/10);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 2 - Fast particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0float speed = (random.nextInt(10)+1);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0PointF direction;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0direction = new PointF((float)Math.cos(angle) * \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed, (float)Math.sin(angle) * \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0speed);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mParticles.add(new Particle(direction));\n\u00a0\u00a0\u00a0}\n}\n```", "```kt\nvoid update(long fps){\n\u00a0\u00a0\u00a0mDuration -= (1f/fps);\n\u00a0\u00a0\u00a0for(Particle p : mParticles){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0p.update(fps);\n\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0if (mDuration < 0)\n\u00a0\u00a0\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mIsRunning = false;\n\u00a0\u00a0\u00a0}\n}\n```", "```kt\nvoid emitParticles(PointF startPosition){\n\u00a0\u00a0\u00a0mIsRunning = true;\n\u00a0\u00a0\u00a0// Option 1 - System lasts for half a minute\n\u00a0\u00a0\u00a0//mDuration = 30f;\n\u00a0\u00a0\u00a0// Option 2 - System lasts for 2 seconds\n\u00a0\u00a0\u00a0mDuration = 3f;\n\u00a0\u00a0\u00a0for(Particle p : mParticles){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0p.setPosition(startPosition);\n\u00a0\u00a0\u00a0}\n}\n```", "```kt\nvoid draw(Canvas canvas, Paint paint){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0for (Particle p : mParticles) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 1 - Coloured particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//paint.setARGB(255, random.nextInt(256),\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//random.nextInt(256),\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//random.nextInt(256));\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 2 - White particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paint.setColor(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Color.argb(255,255,255,255));\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// How big is each particle?\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0float sizeX = 0;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0float sizeY = 0;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 1 - Big particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//sizeX = 25;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//sizeY = 25;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 2 - Medium particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sizeX = 10;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sizeY = 10;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 3 - Tiny particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//sizeX = 1;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//sizeY = 1;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Draw the particle\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 1 - Square particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//canvas.drawRect(p.getPosition().x, \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//p.getPosition().y,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//p.getPosition().x + sizeX,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//p.getPosition().y + sizeY,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//paint);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Option 2 - Circle particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0canvas.drawCircle(p.getPosition().x, \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0p.getPosition().y,\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0sizeX, paint);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n}\n```", "```kt\n// The particle systems will be declared here later\nprivate ArrayList<ParticleSystem> \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mParticleSystems = new ArrayList<>();\nprivate int mNextSystem = 0;\nprivate final int MAX_SYSTEMS = 1000;\nprivate int mParticlesPerSystem = 100;\n```", "```kt\nimport java.util.ArrayList;\n```", "```kt\n// Initialize the particles and their systems\nfor (int i = 0; i < MAX_SYSTEMS; i++) {\n\u00a0\u00a0\u00a0mParticleSystems.add(new ParticleSystem());\n\u00a0\u00a0\u00a0mParticleSystems.get(i).init(mParticlesPerSystem);\n}\n```", "```kt\nprivate void update() {\n\u00a0\u00a0\u00a0// Update the particles\n\u00a0\u00a0\u00a0for (int i = 0; i < mParticleSystems.size(); i++) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (mParticleSystems.get(i).mIsRunning) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mParticleSystems.get(i).update(mFPS);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0}\n}\n```", "```kt\n// Choose a color to paint with\nmPaint.setColor(Color.argb(255, 255, 255, 255));\n// Choose the font size\nmPaint.setTextSize(mFontSize);\n// Draw the particle systems\nfor (int i = 0; i < mNextSystem; i++) {\n\u00a0\u00a0\u00a0\u00a0\u00a0mParticleSystems.get(i).draw(mCanvas, mPaint);\n}\n// Draw the buttons\nmCanvas.drawRect(mResetButton, mPaint);\nmCanvas.drawRect(mTogglePauseButton, mPaint);\n```", "```kt\n@Override\npublic boolean onTouchEvent(MotionEvent motionEvent) {\n\n\u00a0\u00a0\u00a0return true;\n}\n```", "```kt\nimport android.view.MotionEvent;\n```", "```kt\n// User moved a finger while touching screen\n\u00a0\u00a0\u00a0if ((motionEvent.getAction() &\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0MotionEvent.ACTION_MASK)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0== MotionEvent.ACTION_MOVE) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mParticleSystems.get(mNextSystem).emitParticles(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0new PointF(motionEvent.getX(),\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0motionEvent.getY()));\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mNextSystem++;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (mNextSystem == MAX_SYSTEMS) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mNextSystem = 0;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0return true;\n```", "```kt\nimport android.graphics.PointF;\n```", "```kt\n// Did the user touch the screen\n\u00a0\u00a0\u00a0if ((motionEvent.getAction() &\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0MotionEvent.ACTION_MASK)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0== MotionEvent.ACTION_DOWN) {\n// User pressed the screen see if it was in a \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0button\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (mResetButton.contains(motionEvent.getX(),\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0motionEvent.getY())) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Clear the screen of all particles\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mNextSystem = 0;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n// User pressed the screen see if it was in a \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0button\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (mTogglePauseButton.contains\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0(motionEvent.getX(), motionEvent.getY())) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mPaused = !mPaused;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0return true;\n```", "```kt\n// We will add more code here in the next chapter\nmCanvas.drawText(\"Systems: \" + mNextSystem,\n10, mFontMargin + debugStart + debugSize * 2, \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mPaint);\nmCanvas.drawText(\"Particles: \" + mNextSystem * mParticlesPerSystem,\n10, mFontMargin + debugStart + debugSize * 3, \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mPaint);\n```", "```kt\nprivate int mParticlesPerSystem = 100;\n```", "```kt\nprivate int mParticlesPerSystem = 1000;\n```"]