- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Packt first contacted me about writing this book nearly a year ago. It's been
    a long journey, harder than I anticipated at times, and I've learned a lot. The
    book you hold now is the culmination of many long days, and I'm proud to finally
    present it.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Packt 几乎一年前首次联系我撰写这本书。这是一段漫长的旅程，有时比我预期的更艰难，我学到了很多。你现在拥有的这本书是许多漫长日子的结晶，我很自豪能最终呈现它。
- en: Having written this book about C# means a lot to me as it has always been a
    dream of mine to write about the language that I started my career with. C# has
    really grown in leaps and bounds since it was first introduced. .NET Core has
    actually enhanced the power and reputation of C# within the developer community.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 撰写这本关于C#的书对我意义重大，因为我一直梦想着写关于我职业生涯起步的语言。自从首次推出以来，C#确实有了长足的发展。.NET Core实际上增强了C#在开发者社区中的力量和声誉。
- en: To make this book meaningful to a wide audience, we will cover both the classic
    threading model and the **Task Parallel Library** (**TPL**), using code to explain
    them. We'll first look at the basic concepts of the OS that make it possible to
    write multithreaded code. We'll then look closely at the differences between classic
    threading and the TPL.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使这本书对广大读者有意义，我们将涵盖经典线程模型和**任务并行库**（**TPL**），并使用代码来解释它们。我们将首先研究使编写多线程代码成为可能的操作系统的基本概念。然后我们将仔细研究经典线程和TPL之间的区别。
- en: In this book, I take care to approach parallel programming in the context of
    modern-day best programming practices. The examples have been kept short and simple
    so as to ease your understanding. The chapters have been written in a way that
    makes the topics easy to learn even if you don't have much prior knowledge of
    them.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我特别注意以现代最佳编程实践的背景来处理并行编程。示例被保持简短和简单，以便于您的理解。这些章节的写作方式使得即使您对它们没有太多先前的了解，也很容易学习这些主题。
- en: I hope you enjoy reading this book as much as I enjoyed writing it.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 希望您阅读这本书时能像我写作时一样享受。
- en: Who this book is for
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: This book is for C# programmers who want to learn multithreading and parallel
    programming concepts and want to use them in enterprise applications built using
    .NET Core. It is also designed for students and professionals who simply want
    to learn about how parallel programming works with modern-day hardware.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书适用于希望学习多线程和并行编程概念，并希望在使用.NET Core构建的企业应用程序中使用它们的C#程序员。它还适用于希望了解现代硬件如何与并行编程配合的学生和专业人士。
- en: It is assumed that you already have some familiarity with the C# programming
    language and some basic knowledge of how OSes work.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您已经对C#编程语言有一定了解，并且对操作系统的工作原理有一些基本知识。
- en: What this book covers
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书涵盖了什么
- en: '[Chapter 1](ec9722fc-d60f-410b-9db6-edd401804d3c.xhtml), *Introduction to Parallel
    Programming*, introduces the important concepts of multithreading and parallel
    programming. This chapter includes coverage of how OSes have evolved to support
    modern-day parallel programming constructs.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章，*并行编程简介*，介绍了多线程和并行编程的重要概念。本章包括操作系统如何发展以支持现代并行编程构造的内容。
- en: '[Chapter 2](a001ad9c-7e57-4af7-961f-91c1e983b937.xhtml), *Task Parallelism*,
    demonstrates how to divide your program into tasks for the efficient utilization
    of CPU resources and high performance.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章，*任务并行性*，演示了如何将程序分解为任务，以有效利用CPU资源和实现高性能。
- en: '[Chapter 3](201f2160-550c-4651-8f3a-7646194f8dc5.xhtml), *Implementing Data
    Parallelism*, focuses on implementing data parallelism using parallel loops. This
    chapter also covers extension methods to help in achieving parallelism, as well
    as partitioning strategies.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章，*实现数据并行性*，侧重于使用并行循环实现数据并行性。本章还涵盖了扩展方法，以帮助实现并行性，以及分区策略。
- en: '[Chapter 4](933c1e15-a2ae-4f25-bf4d-31fa56462173.xhtml), *Using PLINQ*, explains
    how to take advantage of PLINQ support. This includes ordering queries and canceling
    queries, as well as the pitfalls of using PLINQ.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章，*使用PLINQ*，解释了如何利用PLINQ支持。这包括查询排序和取消查询，以及使用PLINQ的陷阱。
- en: '[Chapter 5](a1a7572c-ff51-47d3-a5e6-3a256fd79b24.xhtml), *Synchronization Primitives*,
    covers the synchronization constructs available in C# for working with shared
    resources in multithreaded code.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章，*同步原语*，介绍了C#中用于处理多线程代码中共享资源的同步构造。
- en: '[Chapter 6](c10ffb38-9184-4518-8ae3-93c7a2fb4d5d.xhtml), *Using Concurrent
    Collections*, describes how to take advantage of concurrent collections available
    in .NET Core without worrying about the effort of manual synchronization coding.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，*使用并发集合*，描述了如何利用.NET Core中可用的并发集合，而无需担心手动同步编码的工作。
- en: '[Chapter 7](584edc9a-7c38-480b-a280-b6c17008ae94.xhtml), *Improving Performance
    with Lazy Initialization*, explores how to implement built-in constructs utilizing
    lazy patterns.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章，*使用延迟初始化提高性能*，探讨了如何实现利用延迟模式的内置构造。
- en: '[Chapter 8](36ec6e12-4593-41df-8da4-db19efcaf348.xhtml), *Introduction to Asynchronous
    Programming*, explores how to write asynchronous code in earlier versions of .NET.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章，*异步编程简介*，探讨了如何在较早版本的.NET中编写异步代码。
- en: '[Chapter 9](1b0d3653-dd80-486b-96fc-b17000f9439d.xhtml), A*sync, Await, and
    Task-Based Asynchronous Programming Basics*, covers how to take advantage of the
    new constructs in .NET Core to implement asynchronous code.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 第9章，*异步、等待和基于任务的异步编程基础*，介绍了如何利用.NET Core中的新构造来实现异步代码。
- en: '[Chapter 10](fb2b24e9-4f15-4775-96ae-1b7a739bd899.xhtml), *Debugging Tasks
    Using Visual Studio*, focuses on the various tools available in Visual Studio
    2019 that makes debugging parallel tasks easier.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 第10章，*使用Visual Studio调试任务*，着重介绍了Visual Studio 2019中可用的各种工具，使并行任务的调试更加容易。
- en: '[Chapter 11](86c487fc-641d-47e9-9270-e9d667bca405.xhtml), *Writing Unit Test
    Cases for Parallel and Asynchronous Code*, covers the various ways to write unit
    test cases in Visual Studio and .NET Core.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](86c487fc-641d-47e9-9270-e9d667bca405.xhtml)，*编写并行和异步代码的单元测试用例*，介绍了在Visual
    Studio和.NET Core中编写单元测试用例的各种方法。'
- en: '[Chapter 12](bcd56652-5ec9-411d-b4f5-dd5371a90297.xhtml), *IIS and Kestrel
    in ASP.NET Core*, introduces the concepts of IIS and Kestrel. The chapter also
    looks at support for asynchronous streams.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[第12章](bcd56652-5ec9-411d-b4f5-dd5371a90297.xhtml)，*ASP.NET Core中的IIS和Kestrel*，介绍了IIS和Kestrel的概念。本章还介绍了对异步流的支持。'
- en: '[Chapter 13](53d02028-e0d4-468d-8233-024b6f9176dd.xhtml), *Patterns in Parallel
    Programming*, explains the various patterns that are already implemented in the
    C# language. This also includes custom pattern implementations.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[第13章](53d02028-e0d4-468d-8233-024b6f9176dd.xhtml)，*并行编程中的模式*，解释了C#语言中已经实现的各种模式。这还包括自定义模式实现。'
- en: '[Chapter 14](2a335b83-83d3-4dac-9d4e-379adcf1c94a.xhtml), *Distributed Memory
    Management*, explores how memory is shared in distributed programs.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[第14章](2a335b83-83d3-4dac-9d4e-379adcf1c94a.xhtml)，*分布式内存管理*，探讨了内存在分布式程序中的共享方式。'
- en: To get the most out of this book
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 充分利用本书
- en: You need to have Visual Studio 2019 installed on your system along with .NET
    Core 3.1\. Basic knowledge of C# and OS concepts is recommended as well.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要在系统上安装Visual Studio 2019以及.NET Core 3.1。同时也建议具备C#和操作系统概念的基本知识。
- en: Download the example code files
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from your account at [www.packt.com](http://www.packt.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](https://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[www.packt.com](http://www.packt.com)的账户中下载本书的示例代码文件。如果您在其他地方购买了本书，可以访问[www.packtpub.com/support](https://www.packtpub.com/support)注册并直接将文件发送到您的邮箱。
- en: 'You can download the code files by following these steps:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按照以下步骤下载代码文件：
- en: Log in or register at [www.packt.com](http://www.packt.com).
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[www.packt.com](http://www.packt.com)登录或注册。
- en: Select the Support tab.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择支持选项卡。
- en: Click on Code Downloads.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代码下载。
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索框中输入书名并按照屏幕上的说明操作。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 文件下载后，请确保使用最新版本的解压缩或提取文件夹：
- en: WinRAR/7-Zip for Windows
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows上的WinRAR/7-Zip
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mac上的Zipeg/iZip/UnRarX
- en: 7-Zip/PeaZip for Linux
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux上的7-Zip/PeaZip
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Hands-On-Parallel-Programming-with-C-8-and-.NET-Core-3](https://github.com/PacktPublishing/Hands-On-Parallel-Programming-with-C-8-and-.NET-Core-3). In
    case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 该书的代码包也托管在GitHub上，网址为[https://github.com/PacktPublishing/Hands-On-Parallel-Programming-with-C-8-and-.NET-Core-3](https://github.com/PacktPublishing/Hands-On-Parallel-Programming-with-C-8-and-.NET-Core-3)。如果代码有更新，将在现有的GitHub存储库上进行更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了来自我们丰富书籍和视频目录的其他代码包，可以在**[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**上查看！
- en: Download the color images
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://static.packt-cdn.com/downloads/9781789132410_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781789132410_ColorImages.pdf).'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个PDF文件，其中包含本书中使用的屏幕截图/图表的彩色图像。您可以在这里下载：[https://static.packt-cdn.com/downloads/9781789132410_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781789132410_ColorImages.pdf)。
- en: Conventions used
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了许多文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    Here is an example: "Mount the downloaded `WebStorm-10*.dmg` disk image file as
    another disk in your system."'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：指示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter句柄。这是一个例子：“将下载的`WebStorm-10*.dmg`磁盘映像文件挂载为系统中的另一个磁盘。”'
- en: 'A block of code is set as follows:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    screen. For example, words in menus or dialog boxes appear in the text like this.
    Here is an example: "Rather than finding the optimal number of threads ourselves,'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以这种形式出现在文本中。这是一个例子：“与其自己找到最佳线程数，'
- en: we can leave it to the **Common Language Runtime**."
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以把它留给**公共语言运行时**。
- en: Warnings or important notes appear like this.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会出现在这样的形式中。
- en: Tips and tricks appear like this.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧会以这种形式出现。
- en: Get in touch
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的读者反馈总是受欢迎的。
- en: '**General feedback**: If you have questions about any aspect of this book,
    mention the book title in the subject of your message and email us at `customercare@packtpub.com`.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果您对本书的任何方面有疑问，请在邮件主题中提及书名，并发送邮件至`customercare@packtpub.com`。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](https://www.packtpub.com/support/errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 勘误：尽管我们已经尽最大努力确保内容的准确性，但错误确实会发生。如果您在本书中发现错误，我们将不胜感激地希望您向我们报告。请访问[www.packtpub.com/support/errata](https://www.packtpub.com/support/errata)，选择您的书，点击勘误提交表格链接，并输入详细信息。
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packt.com` with a link
    to the material.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 盗版：如果您在互联网上发现我们作品的任何非法副本，请向我们提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packt.com`与我们联系，并附上材料链接。
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com/).'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com/)。'
- en: Reviews
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评论
- en: Please leave a review. Once you have read and used this book, why not leave
    a review on the site that you purchased it from? Potential readers can then see
    and use your unbiased opinion to make purchase decisions, we at Packt can understand
    what you think about our products, and our authors can see your feedback on their
    book. Thank you!
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 请留下评论。在阅读并使用本书后，为什么不在购买它的网站上留下评论呢？潜在读者可以看到并使用您的客观意见来做出购买决定，我们在Packt可以了解您对我们产品的看法，我们的作者也可以看到您对他们书籍的反馈。谢谢！
- en: For more information about Packt, please visit [packt.com](http://www.packt.com/).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 有关Packt的更多信息，请访问[packt.com](http://www.packt.com/)。
