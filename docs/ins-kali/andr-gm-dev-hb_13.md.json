["```kt\n<uses-permission android:name=\"android.permission.INTERNET\" />\n<uses-permission android:name=\"android.permission.GET_ACCOUNTS\" />\n<uses-permission android:name=\"android.permission.WAKE_LOCK\" />\n<uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" />\n<permission android:name=\"com.example.gcm.permission.C2D_MESSAGE\"\n        android:protectionLevel=\"signature\" />\n<uses-permission android:name=\"com.example.gcm.permission.C2D_MESSAGE\" />\n```", "```kt\n<receiver android:name=\"com.google.android.gms.gcm.GcmReceiver\"\n            android:exported=\"true\" android:permission=\"com.google.android.c2dm.permission.SEND\" >\n<intent-filter>\n<action android:name=\"com.google.android.c2dm.intent.REGISTRAION\" />\n<action android:name=\"com.google.android.c2dm.intent.RECEIVE\" />\n<category android:name=\"com.example.gcm\" />\n      </intent-filter>\n</receiver>\n<service android:name=\".GcmService\" android:exported=\"false\">\n      <intent-filter>\n<action android:name=\"com.google.android.c2dm.intent.RECEIVE\" />\n      </intent-filter>\n</service>\n```", "```kt\nprivate final Context testContext = this;\nprivate final String SENDER_ID = \"<Application ID from Google developer console>\";\nprivate final String SHARED_PREF = \"com.test.gcmclient_preferences\";\nprivate final String GCM_TOKEN = \"testgcmtoken\";\n```", "```kt\nSharedPreferences appPrefs = testContext.getSharedPreferences(SHARED_PREF, Context.MODE_PRIVATE);\nString token = appPrefs.getString(GCM_TOKEN, \"\");\nif (token.isEmpty()) \n{\n  try \n  {\n    InstanceID instanceID =  InstanceID.getInstance(testContext);\n    token = instanceID.getToken(SENDER_ID,  GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);\n    if (token != null && !token.isEmpty()) \n    {\n      SharedPreferences.Editor prefsEditor = appPrefs.edit();\n      prefsEditor.putString(GCM_TOKEN, token);\n      prefsEditor.apply();\n    }\n  }\n  catch (Exception e) \n  {\n    e.printStackTrace();\n  }\n}\n```", "```kt\npublic class GcmService extends GcmListenerService \n{\n  @Override\n  public void onMessageReceived(String from, Bundle data) \n  {\n    JSONObject jsonObject = new JSONObject();\n    Set<String> keys = data.keySet();\n    for (String key : keys) \n    {\n      try \n      {\n        jsonObject.put(key, data.get(key));\n      } \n      catch (JSONException e) \n      {\n        e.printStackTrace();\n      }\n    }\n    try \n    {\n      sendNotification(\"Received: \" + jsonObject.toString(5));\n    } \n    catch (JSONException e) \n    {\n      e.printStackTrace();\n    }\n  }\n\n  @Override\n  public void onDeletedMessages() \n  {\n    Log.d(\"Message is deleted \u2026\");\n  }\n\n  @Override\n  public void onMessageSent(String msgId) \n  {\n    Log.d(\"Message is sent \u2026\" + msgId);\n  }\n\n  @Override\n  public void onSendError(String msgId, String error) \n  {\n    Log.d(\"Sending Error \u2026 Msg\" + msgId);\n    Log.d(\"Error \u2026\" + error);\n  }\n  private void sendNotification(final String msg) \n  {\n    Log.d(\"Sending Msg \u2026\" + msg);\n  }\n}\n```"]