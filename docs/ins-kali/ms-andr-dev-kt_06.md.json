["```kt\n    <manifest xmlns:android=\n     \"http://schemas.android.com/apk/res/android\" \n     package=\"com.journaler\"> \n\n      <uses-permission android:name=\"android.permission.INTERNET\" /> \n      <uses-permission android:name=\n       \"android.permission.RECEIVE_BOOT_COMPLETED\" /> \n      <uses-permission android:name=\n       \"android.permission.READ_EXTERNAL_STORAGE\" /> \n      <uses-permission android:name=\n       \"android.permission.WRITE_EXTERNAL_STORAGE\" /> \n      <uses-permission android:name=\n       \"android.permission.ACCESS_NETWORK_STATE\" /> \n      <uses-permission android:name=\n       \"android.permission.ACCESS_FINE_LOCATION\" /> \n      <uses-permission android:name=\n       \"android.permission.ACCESS_COARSE_LOCATION\" /> \n      <uses-permission android:name=\"android.permission.VIBRATE\" /> \n       <application ... > \n         ... \n       </application \n\n       ... \n\n     </manifest>  \n```", "```kt\n     <uses-permission android:name=\n     \"android.permission.ACCESS_CHECKIN_PROPERTIES\" /> \n     <uses-permission  android:name=\n     \"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS\" /> \n     <uses-permission android:name=\n     \"android.permission.ACCESS_MOCK_LOCATION\" /> \n     <uses-permission android:name=\n     \"android.permission.ACCESS_SURFACE_FLINGER\" /> \n     <uses-permission android:name=\n     \"android.permission.ACCESS_WIFI_STATE\" /> \n     <uses-permission android:name=\n     \"android.permission.ACCOUNT_MANAGER\" /> \n     <uses-permission android:name=\n     \"android.permission.AUTHENTICATE_ACCOUNTS\" /> \n     <uses-permission android:name=\n     \"android.permission.BATTERY_STATS\" /> \n     <uses-permission android:name=\n     \"android.permission.BIND_APPWIDGET\" /> \n     <uses-permission android:name=\n     \"android.permission.BIND_DEVICE_ADMIN\" /> \n     <uses-permission android:name=\n     \"android.permission.BIND_INPUT_METHOD\" /> \n     <uses-permission android:name=\n     \"android.permission.BIND_REMOTEVIEWS\" /> \n     <uses-permission android:name=\n     \"android.permission.BIND_WALLPAPER\" /> \n     <uses-permission android:name=\n     \"android.permission.BLUETOOTH\" /> \n     <uses-permission android:name=\n     \"android.permission.BLUETOOTH_ADMIN\" /> \n     <uses-permission android:name=\n     \"android.permission.BRICK\" /> \n     <uses-permission android:name=\n     \"android.permission.BROADCAST_PACKAGE_REMOVED\" /> \n     <uses-permission android:name=\n     \"android.permission.BROADCAST_SMS\" /> \n     <uses-permission android:name=\n     \"android.permission.BROADCAST_STICKY\" /> \n     <uses-permission android:name=\n      \"android.permission.BROADCAST_WAP_PUSH\" /> \n     <uses-permission android:name=\n      \"android.permission.CALL_PHONE\"/> \n     <uses-permission android:name=\n      \"android.permission.CALL_PRIVILEGED\" /> \n     <uses-permission android:name=\n      \"android.permission.CAMERA\"/> \n     <uses-permission android:name=\n      \"android.permission.CHANGE_COMPONENT_ENABLED_STATE\" /> \n     <uses-permission android:name=\n     \"android.permission.CHANGE_CONFIGURATION\" /> \n     <uses-permission android:name=\n     \"android.permission.CHANGE_NETWORK_STATE\" /> \n     <uses-permission android:name=\n     \"android.permission.CHANGE_WIFI_MULTICAST_STATE\" /> \n     <uses-permission android:name=\n     \"android.permission.CHANGE_WIFI_STATE\" /> \n     <uses-permission android:name=\n     \"android.permission.CLEAR_APP_CACHE\" /> \n     <uses-permission android:name=\n     \"android.permission.CLEAR_APP_USER_DATA\" /> \n     <uses-permission android:name=\n     \"android.permission.CONTROL_LOCATION_UPDATES\" /> \n     <uses-permission android:name=\n     \"android.permission.DELETE_CACHE_FILES\" /> \n     <uses-permission android:name=\n     \"android.permission.DELETE_PACKAGES\" /> \n     <uses-permission android:name=\n     \"android.permission.DEVICE_POWER\" /> \n     <uses-permission android:name=\n     \"android.permission.DIAGNOSTIC\" /> \n     <uses-permission android:name=\n     \"android.permission.DISABLE_KEYGUARD\" /> \n     <uses-permission android:name=\n     \"android.permission.DUMP\" /> \n     <uses-permission android:name=\n     \"android.permission.EXPAND_STATUS_BAR\" /> \n     <uses-permission android:name=\"\n     android.permission.FACTORY_TEST\" /> \n     <uses-permission android:name=\n     \"android.permission.FLASHLIGHT\" /> \n     <uses-permission android:name=\n     \"android.permission.FORCE_BACK\" /> \n     <uses-permission android:name=\n     \"android.permission.GET_ACCOUNTS\" /> \n     <uses-permission android:name=\n     \"android.permission.GET_PACKAGE_SIZE\" /> \n     <uses-permission android:name=\n     \"android.permission.GET_TASKS\" /> \n     <uses-permission android:name=\n     \"android.permission.GLOBAL_SEARCH\" /> \n     <uses-permission android:name=\n     \"android.permission.HARDWARE_TEST\" /> \n     <uses-permission android:name=\n     \"android.permission.INJECT_EVENTS\" /> \n     <uses-permission android:name=\n     \"android.permission.INSTALL_LOCATION_PROVIDER\" /> \n     <uses-permission android:name=\n     \"android.permission.INSTALL_PACKAGES\" /> \n     <uses-permission android:name=\n     \"android.permission.INTERNAL_SYSTEM_WINDOW\" /> \n     <uses-permission android:name=\n     \"android.permission.KILL_BACKGROUND_PROCESSES\" /> \n     <uses-permission android:name=\n     \"android.permission.MANAGE_ACCOUNTS\" /> \n     <uses-permission android:name=\n     \"android.permission.MANAGE_APP_TOKENS\" /> \n     <uses-permission android:name=\n     \"android.permission.MASTER_CLEAR\" /> \n     <uses-permission android:name=\n     \"android.permission.MODIFY_AUDIO_SETTINGS\" /> \n     <uses-permission android:name=\n     \"android.permission.MODIFY_PHONE_STATE\" /> \n     <uses-permission android:name=\n     \"android.permission.MOUNT_FORMAT_FILESYSTEMS\" /> \n     <uses-permission android:name=\n     \"android.permission.MOUNT_UNMOUNT_FILESYSTEMS\" /> \n     <uses-permission android:name=\n     \"android.permission.NFC\" /> \n     <uses-permission android:name=\n     \"android.permission.PROCESS_OUTGOING_CALLS\" /> \n     <uses-permission android:name=\n     \"android.permission.READ_CALENDAR\" /> \n    <uses-permission android:name=\n     \"android.permission.READ_CONTACTS\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_FRAME_BUFFER\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_HISTORY_BOOKMARKS\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_INPUT_STATE\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_LOGS\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_PHONE_STATE\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_SMS\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_SYNC_SETTINGS\" /> \n    <uses-permission android:name=\n    \"android.permission.READ_SYNC_STATS\" /> \n    <uses-permission android:name=\n    \"android.permission.REBOOT\" /> \n    <uses-permission android:name=\n    \"android.permission.RECEIVE_MMS\" /> \n    <uses-permission android:name=\n    \"android.permission.RECEIVE_SMS\" /> \n    <uses-permission android:name=\n    \"android.permission.RECEIVE_WAP_PUSH\" /> \n    <uses-permission android:name=\n    \"android.permission.RECORD_AUDIO\" /> \n    <uses-permission android:name=\n    \"android.permission.REORDER_TASKS\" /> \n    <uses-permission android:name=\n    \"android.permission.RESTART_PACKAGES\" /> \n    <uses-permission android:name=\n    \"android.permission.SEND_SMS\" /> \n    <uses-permission android:name=\n    \"android.permission.SET_ACTIVITY_WATCHER\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_ALARM\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_ALWAYS_FINISH\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_ANIMATION_SCALE\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_DEBUG_APP\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_ORIENTATION\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_POINTER_SPEED\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_PROCESS_LIMIT\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_TIME\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_TIME_ZONE\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_WALLPAPER\" /> \n    <uses-permission android:name=\n     \"android.permission.SET_WALLPAPER_HINTS\" /> \n    <uses-permission android:name=\n     \"android.permission.SIGNAL_PERSISTENT_PROCESSES\" /> \n    <uses-permission android:name=\n     \"android.permission.STATUS_BAR\" /> \n    <uses-permission android:name=\n     \"android.permission.SUBSCRIBED_FEEDS_READ\" /> \n    <uses-permission android:name=\n     \"android.permission.SUBSCRIBED_FEEDS_WRITE\" /> \n    <uses-permission android:name=\n     \"android.permission.SYSTEM_ALERT_WINDOW\" /> \n    <uses-permission android:name=\n     \"android.permission.UPDATE_DEVICE_STATS\" /> \n    <uses-permission android:name=\n     \"android.permission.USE_CREDENTIALS\" /> \n    <uses-permission android:name=\n     \"android.permission.USE_SIP\" /> \n    <uses-permission android:name=\n     \"android.permission.WAKE_LOCK\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_APN_SETTINGS\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_CALENDAR\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_CONTACTS\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_GSERVICES\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_HISTORY_BOOKMARKS\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_SECURE_SETTINGS\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_SETTINGS\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_SMS\" /> \n    <uses-permission android:name=\n     \"android.permission.WRITE_SYNC_SETTINGS\" /> \n    <uses-permission android:name=\n     \"android.permission.BIND_ACCESSIBILITY_SERVICE\"/> \n    <uses-permission android:name=\n     \"android.permission.BIND_TEXT_SERVICE\"/> \n    <uses-permission android:name=\n     \"android.permission.BIND_VPN_SERVICE\"/> \n    <uses-permission android:name=\n     \"android.permission.PERSISTENT_ACTIVITY\"/> \n    <uses-permission android:name=\n     \"android.permission.READ_CALL_LOG\"/> \n    <uses-permission android:name=\n     \"com.android.browser.permission.READ_HISTORY_BOOKMARKS\"/> \n    <uses-permission android:name=\n     \"android.permission.READ_PROFILE\"/> \n    <uses-permission android:name=\n     \"android.permission.READ_SOCIAL_STREAM\"/> \n    <uses-permission android:name=\n     \"android.permission.READ_USER_DICTIONARY\"/> \n    <uses-permission android:name=\n     \"com.android.alarm.permission.SET_ALARM\"/> \n    <uses-permission android:name=\n     \"android.permission.SET_PREFERRED_APPLICATIONS\"/> \n    <uses-permission android:name=\n     \"android.permission.WRITE_CALL_LOG\"/> \n    <uses-permission android:name=\n     \"com.android.browser.permission.WRITE_HISTORY_BOOKMARKS\"/> \n    <uses-permission android:name=\n     \"android.permission.WRITE_PROFILE\"/> \n    <uses-permission android:name=\n     \"android.permission.WRITE_SOCIAL_STREAM\"/> \n    <uses-permission android:name=\n     \"android.permission.WRITE_USER_DICTIONARY\"/>  \n```", "```kt\n    abstract class BaseActivity : AppCompatActivity() {\n      companion object { \n      val REQUEST_GPS = 0 \n      ... }\n      ... \n      override fun onCreate(savedInstanceState: Bundle?) {   \n        super.onCreate(savedInstanceState)\n        ...\n        requestGpsPermissions() } \n     ...\n     private fun requestGpsPermissions() {   \n       ActivityCompat.requestPermissions( \n         this@BaseActivity,\n         arrayOf( \n           Manifest.permission.ACCESS_FINE_LOCATION,\n           Manifest.permission.ACCESS_COARSE_LOCATION ),\n           REQUEST_GPS ) }\n            ... \n      override fun onRequestPermissionsResult(\n        requestCode:\n         Int, permissions: Array<String>, grantResults: IntArray ) {\n           if (requestCode == REQUEST_GPS) { \n            for (grantResult in grantResults) \n            { if (grantResult == PackageManager.PERMISSION_GRANTED)\n             { Log.i( tag, String.format( Locale.ENGLISH, \"Permission \n              granted [ %d ]\", requestCode ) ) \n             } \n             else {\n               Log.e( tag, String.format( Locale.ENGLISH, \"Permission\n               not granted [ %d ]\", requestCode ) )\n             } } } } }\n\n```", "```kt\n     package com.journaler.permission \n\n     interface PermissionRequestCallback { \n       fun onPermissionGranted(permissions: List<String>) \n       fun onPermissionDenied(permissions: List<String>) \n     } \n```", "```kt\n     package com.journaler.permission \n\n     import android.content.pm.PackageManager \n     import android.support.v4.app.ActivityCompat \n     import android.support.v7.app.AppCompatActivity \n     import android.util.Log \n     import java.util.concurrent.ConcurrentHashMap \n     import java.util.concurrent.atomic.AtomicInteger \n\n     abstract class PermissionCompatActivity : AppCompatActivity() { \n\n       private val tag = \"Permissions extension\" \n       private val latestPermissionRequest = AtomicInteger() \n       private val permissionRequests = ConcurrentHashMap<Int,\n       List<String>>() \n       private val permissionCallbacks =  \n        ConcurrentHashMap<List<String>, PermissionRequestCallback>() \n\n       private val defaultPermissionCallback = object :  \n       PermissionRequestCallback { \n         override fun onPermissionGranted(permissions: List<String>) { \n            Log.i(tag, \"Permission granted [ $permissions ]\") \n         } \n         override fun onPermissionDenied(permissions: List<String>) { \n            Log.e(tag, \"Permission denied [ $permissions ]\") \n         } \n      } \n\n     fun requestPermissions( \n        vararg permissions: String,  \n        callback: PermissionRequestCallback = defaultPermissionCallback \n     ) { \n        val id = latestPermissionRequest.incrementAndGet() \n        val items = mutableListOf<String>() \n        items.addAll(permissions) \n        permissionRequests[id] = items \n        permissionCallbacks[items] = callback \n        ActivityCompat.requestPermissions(this, permissions, id) \n     } \n\n     override fun onRequestPermissionsResult( \n        requestCode: Int,  \n        permissions: Array<String>,  \n        grantResults: IntArray \n     ) { \n        val items = permissionRequests[requestCode] \n        items?.let { \n           val callback = permissionCallbacks[items] \n           callback?.let { \n             var success = true \n              for (x in 0..grantResults.lastIndex) { \n                  val result = grantResults[x] \n                  if (result != PackageManager.PERMISSION_GRANTED) { \n                      success = false \n                      break \n                  } \n              } \n              if (success) { \n                 callback.onPermissionGranted(items) \n              } else { \n                  callback.onPermissionDenied(items) \n              } \n             } \n           } \n         } \n     }\n```", "```kt\n     abstract class BaseActivity : PermissionCompatActivity() { \n     ... \n     override fun onCreate(savedInstanceState: Bundle?) { \n         ... \n         requestPermissions( \n            Manifest.permission.ACCESS_FINE_LOCATION, \n            Manifest.permission.ACCESS_COARSE_LOCATION \n         ) \n     } \n     ... \n    } \n```"]