["```\n 1  cd k8s-specs\n 2\n 3  git pull\n```", "```\n 1  GD5_ADDR=go-demo-5.$LB_IP.nip.io\n 2\n 3  helm install \\\n 4      https://github.com/vfarcic/go-demo-5/releases/download/\n    0.0.1/go-demo-5-0.0.1.tgz \\\n 5      --name go-demo-5 \\\n 6      --namespace go-demo-5 \\\n 7      --set ingress.host=$GD5_ADDR\n 8\n 9  kubectl -n go-demo-5 \\\n10      rollout status \\\n11      deployment go-demo-5\n```", "```\n 1  curl http://$GD5_ADDR/demo/hello\n```", "```\n 1  for i in {1..20}; do\n 2      DELAY=$[ $RANDOM % 10000 ]\n 3      curl \"http://$GD5_ADDR/demo/hello?delay=$DELAY\"\n 4  done\n```", "```\n 1  open \"http://$PROM_ADDR/alerts\"\n```", "```\n 1  sum(rate(\n 2      nginx_ingress_controller_request_duration_seconds_sum{\n 3          ingress=\"go-demo-5\"\n 4      }[5m]\n 5  )) /\n 6  sum(rate(\n 7      nginx_ingress_controller_request_duration_seconds_count{\n 8          ingress=\"go-demo-5\"\n 9      }[5m]\n10  ))\n```", "```\n 1  open \"https://github.com/vfarcic/go-demo-5/blob/master/main.go\"\n```", "```\n 1  ...\n 2  var (\n 3    histogram = prometheus.NewHistogramVec(prometheus.HistogramOpts{\n 4      Subsystem: \"http_server\",\n 5      Name:      \"resp_time\",\n 6      Help:      \"Request response time\",\n 7    }, []string{\n 8      \"service\",\n 9      \"code\",\n10      \"method\",\n11      \"path\",\n12    })\n13  )\n14  ...\n```", "```\n 1  ...\n 2  func recordMetrics(start time.Time, req *http.Request, code int) {\n 3    duration := time.Since(start)\n 4    histogram.With(\n 5      prometheus.Labels{\n 6        \"service\": serviceName,\n 7        \"code\":    fmt.Sprintf(\"%d\", code),\n 8        \"method\":  req.Method,\n 9        \"path\":    req.URL.Path,\n10      },\n11    ).Observe(duration.Seconds())\n12  }\n13  ...\n```", "```\n 1  ...\n 2  func HelloServer(w http.ResponseWriter, req *http.Request) {\n 3    start := time.Now()\n 4    defer func() { recordMetrics(start, req, http.StatusOK) }()\n 5    ...\n 6  }\n 7  ...\n```", "```\n 1  kubectl -n metrics \\\n 2      run -it test \\\n 3      --image=appropriate/curl \\\n 4      --restart=Never \\\n 5      --rm \\\n 6      -- go-demo-5.go-demo-5:8080/metrics\n```", "```\n...\n# HELP http_server_resp_time Request response time\n# TYPE http_server_resp_time histogram\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.005\"} 931\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.01\"} 931\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.025\"} 931\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.05\"} 931\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.1\"} 934\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.25\"} 935\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"0.5\"} 935\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"1\"} 936\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"2.5\"} 936\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"5\"} 937\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"10\"} 942\nhttp_server_resp_time_bucket{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\",le=\"+Inf\"} 942\nhttp_server_resp_time_sum{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\"} 38.87928942600006\nhttp_server_resp_time_count{code=\"200\",method=\"GET\",path=\"/demo/hello\",service=\"go-demo\"} 942\n...\n```", "```\n 1  open \"http://$PROM_ADDR/targets\"\n```", "```\n 1  open \"http://$PROM_ADDR/graph\"\n```", "```\n 1  http_server_resp_time_count\n```", "```\n 1  http_server_resp_time_sum{\n 2      kubernetes_name=\"go-demo-5\"\n 3  } /\n 4  http_server_resp_time_count{\n 5      kubernetes_name=\"go-demo-5\"\n 6  }\n```", "```\n 1  for i in {1..20}; do\n 2      DELAY=$[ $RANDOM % 10000 ]\n 3      curl \"http://$GD5_ADDR/demo/hello?delay=$DELAY\"\n 4  done\n 5\n 6  open \"http://$PROM_ADDR/alerts\"\n```", "```\n 1  sum(rate(\n 2      http_server_resp_time_bucket{\n 3          le=\"0.1\",\n 4          kubernetes_name=\"go-demo-5\"\n 5      }[5m]\n 6  )) /\n 7  sum(rate(\n 8      http_server_resp_time_count{\n 9          kubernetes_name=\"go-demo-5\"\n10      }[5m]\n11  ))\n```", "```\n 1  sum(rate(\n 2      http_server_resp_time_bucket{\n 3          le=\"0.1\",\n 4          kubernetes_name=\"go-demo-5\"\n 5      }[5m]\n 6  ))\n 7  by (method, path) /\n 8  sum(rate(\n 9      http_server_resp_time_count{\n10          kubernetes_name=\"go-demo-5\"\n11      }[5m]\n12  ))\n13  by (method, path)\n```", "```\n 1  sum(rate(\n 2      http_server_resp_time_bucket{\n 3          le=\"0.1\",\n 4          kubernetes_name=\"go-demo-5\"\n 5      }[5m]\n 6  ))\n 7  by (method, path) /\n 8  sum(rate(\n 9      http_server_resp_time_count{\n10          kubernetes_name=\"go-demo-5\"\n11      }[5m]\n12  ))\n13  by (method, path) < 0.99\n```", "```\n 1  helm delete go-demo-5 --purge\n 2\n 3  kubectl delete ns go-demo-5\n```"]