- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Not so long ago, a typical personal computer CPU had only one computing core,
    and the power consumption was enough to cook fried eggs on it. In 2005, Intel
    introduced its first multiple-core CPU, and since then computers started developing
    in a different direction. Low power consumption and a number of computing cores
    became more important than a row computing core performance. This lead to programming
    paradigm changes as well. Now we need to learn how to use all CPU cores effectively
    to achieve the best performance, and at the same time, save battery power by running
    only the programs we need at a particular time. Besides that, we need to program
    server applications in a way to use multiple CPU cores or even multiple computers
    as efficiently as possible to support as many users as we can.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 不久以前，典型的个人电脑CPU只有一个计算核心，功耗足以在上面煎鸡蛋。2005年，英特尔推出了其第一款多核CPU，自那时起，计算机开始朝着不同的方向发展。低功耗和多个计算核心变得比单个计算核心的性能更重要。这也导致了编程范式的变化。现在我们需要学会如何有效地使用所有CPU核心以实现最佳性能，同时通过仅在特定时间运行所需的程序来节省电池电量。此外，我们还需要以尽可能高效的方式编写服务器应用程序，以利用多个CPU核心甚至多台计算机来支持尽可能多的用户。
- en: To be able to create such applications, you have to learn to use multiple CPU
    cores in your programs effectively. If you use the Microsoft .NET development
    platform and C# programming language, this book will be a perfect starting point
    for programming applications that have good performance and responsiveness.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 要能够创建这样的应用程序，您必须学会有效地在程序中使用多个CPU核心。如果您使用Microsoft .NET开发平台和C#编程语言，这本书将是编写性能良好且响应迅速的应用程序的完美起点。
- en: The purpose of this book is to provide you with a step-by-step guide for multithreading
    and parallel programming in C#. We will start with the basic concepts, going through
    more and more advanced topic based on the information from previous chapters,
    and end with real-world parallel programming patterns and Windows Store application
    samples.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目的是为您提供C#中多线程和并行编程的逐步指南。我们将从基本概念开始，根据前几章的信息逐渐深入更高级的主题，并以真实世界的并行编程模式和Windows
    Store应用程序示例结束。
- en: '**What this book covers**'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**本书内容**'
- en: '[Chapter 1](ch01.html "Chapter 1. Threading Basics"), *Threading Basics*, introduces
    basic operations with threads in C#. It explains what a thread is, the pros and
    cons of using threads, and other important thread aspects.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章，“线程基础”，介绍了C#中线程的基本操作。它解释了线程是什么，使用线程的利弊以及其他重要的线程方面。
- en: '[Chapter 2](ch02.html "Chapter 2. Thread Synchronization"), *Thread Synchronization*,
    describes thread interaction details. You will learn why we need to coordinate
    threads together and the different ways of organizing thread coordination.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章，“线程同步”，描述了线程交互的细节。您将了解为什么我们需要协调线程以及组织线程协调的不同方式。
- en: '[Chapter 3](ch03.html "Chapter 3. Using a Thread Pool"), *Using a Thread Pool*,
    explains a thread pool concept. It shows how to use a thread pool, how to work
    with asynchronous operations, and good and bad practices of using a thread pool.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章，“使用线程池”，解释了线程池的概念。它展示了如何使用线程池，如何处理异步操作，以及使用线程池的良好和不良实践。
- en: '[Chapter 4](ch04.html "Chapter 4. Using Task Parallel Library"), *Using Task
    Parallel Library*, is a deep dive into a Task Parallel Library framework. This
    chapter outlines every important aspect of TPL, including tasks combination, exceptions
    management, and operations cancellation.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章，“使用任务并行库”，深入探讨了任务并行库框架。本章概述了TPL的每个重要方面，包括任务组合、异常管理和操作取消。
- en: '[Chapter 5](ch05.html "Chapter 5. Using C# 5.0"), *Using C# 5.0*, explains
    in detail the new C# 5.0 feature – asynchronous methods. You will find out what
    async and await keywords mean, how to use them in different scenarios, and how
    await works under the hood.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章，“使用C# 5.0”，详细解释了新的C# 5.0特性 - 异步方法。您将了解async和await关键字的含义，以及如何在不同场景中使用它们，以及await在幕后的工作原理。
- en: '[Chapter 6](ch06.html "Chapter 6. Using Concurrent Collections"), *Using Concurrent
    Collections*, describes standard data structures for parallel algorithms included
    in the .NET Framework. It goes through sample programming scenarios for each data
    structure.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，“使用并发集合”，描述了.NET Framework中包含的用于并行算法的标准数据结构。它涵盖了每种数据结构的示例编程场景。
- en: '[Chapter 7](ch07.html "Chapter 7. Using PLINQ"), *Using PLINQ*, is a deep dive
    into the Parallel LINQ infrastructure. The chapter describes task and data parallelism,
    parallelizing a LINQ query, tweaking parallelism options, partitioning a query,
    and aggregating parallel query result.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章，“使用PLINQ”，是对并行LINQ基础设施的深入探讨。本章描述了任务和数据并行性，对LINQ查询进行并行化，调整并行性选项，对查询进行分区，并聚合并行查询结果。
- en: '[Chapter 8](ch08.html "Chapter 8. Reactive Extensions"), *Reactive Extensions*,
    explains how and when to use the Reactive Extensions framework. You will learn
    how to compose events and how to perform a LINQ query against an event sequence.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章，“响应式扩展”，解释了何时以及如何使用响应式扩展框架。您将学习如何组合事件以及如何针对事件序列执行LINQ查询。
- en: '[Chapter 9](ch09.html "Chapter 9. Using Asynchronous I/O"), *Using Asynchronous
    I/O*, covers in detail the asynchronous I/O process including files, networks,
    and database scenarios.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第9章，“使用异步I/O”，详细介绍了包括文件、网络和数据库场景在内的异步I/O过程。
- en: '[Chapter 10](ch10.html "Chapter 10. Parallel Programming Patterns"), *Parallel
    Programming Patterns*, outlines the common parallel programming problem solutions.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 第10章，“并行编程模式”，概述了常见的并行编程问题解决方案。
- en: '[Chapter 11](ch11.html "Chapter 11. There''s More"), *There''s More*, covers
    the aspects of programming asynchronous applications for Windows 8\. You will
    learn how to work with Windows 8 asynchronous APIs, and how to perform background
    work in Windows Store applications.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 11 章](ch11.html "第 11 章。更多内容")，*更多内容*，涵盖了为 Windows 8 编写异步应用程序的方面。您将学习如何使用
    Windows 8 异步 API，并在 Windows Store 应用程序中执行后台工作。'
- en: What you need for this book
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书所需内容
- en: For most of the recipes, you will need Microsoft Visual Studio Express 2012
    for Windows Desktop. Recipes in Chapter 11 will require Windows 8 and Microsoft
    Visual Studio Express 2012 for Windows 8 to compile Windows Store applications.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数的示例，您将需要 Microsoft Visual Studio Express 2012 for Windows Desktop。第 11
    章的示例将需要 Windows 8 和 Microsoft Visual Studio Express 2012 for Windows 8 来编译 Windows
    Store 应用程序。
- en: Who this book is for
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合对象
- en: '*Multithreading in C# 5.0 Cookbook* is written for existing C# developers with
    little or no background in multithreading, and asynchronous and parallel programming.
    The book covers these topics from basic concepts to complicated programming patterns
    and algorithms using C# and .NET ecosystem.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '*Multithreading in C# 5.0 Cookbook* 是为现有的 C# 开发人员编写的，他们在多线程、异步和并行编程方面几乎没有背景。本书涵盖了从基本概念到使用
    C# 和 .NET 生态系统的复杂编程模式和算法的这些主题。'
- en: Conventions
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of styles of text that distinguish among
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您将找到一些区分不同信息类型的文本样式。以下是一些这些样式的示例，以及它们含义的解释。
- en: 'Code words in text are shown as follows: " When we construct a thread, an instance
    of the `ThreadStart` or `ParameterizedThreadStart` delegate is passed to the constructor."'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词显示如下：“当我们构造一个线程时，`ThreadStart` 或 `ParameterizedThreadStart` 委托的实例被传递给构造函数。”
- en: 'A block of code is set as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "Start Visual Studio 2012\. Create a new C# **Console Application** project."'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语** 和 **重要单词** 以粗体显示。例如，屏幕上看到的单词，例如菜单或对话框中的单词，会在文本中显示为：“启动 Visual Studio
    2012。创建一个新的 C# **控制台应用程序** 项目。”'
- en: Note
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示会以这样的方式显示在一个框中。
- en: Tip
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧看起来像这样。
- en: Reader feedback
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or may have disliked. Reader feedback is important for
    us to develop titles that you really get the most out of.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。请告诉我们您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们开发您真正受益的书籍非常重要。
- en: To send us general feedback, simply send an e-mail to `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book title via the subject of your message.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 要向我们发送一般反馈，只需发送电子邮件至 `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在消息主题中提及书名。
- en: If there is a topic in which you have expertise, and you are interested in either
    writing or contributing to a book, see our author guide on [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请参阅我们的作者指南 [www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 既然您是 Packt 书籍的自豪所有者，我们有许多事情可以帮助您充分利用您的购买。
- en: Downloading the example code
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从您在 [http://www.packtpub.com](http://www.packtpub.com) 购买的所有 Packt 书籍的帐户中下载示例代码文件。如果您在其他地方购买了本书，您可以访问
    [http://www.packtpub.com/support](http://www.packtpub.com/support) 并注册，以便直接将文件发送到您的电子邮件。
- en: Errata
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you would report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **errata** **submission** **form** link,
    and entering the details of your errata. Once your errata are verified, your submission
    will be accepted and the errata will be uploaded on our website, or added to any
    list of existing errata, under the Errata section of that title. Any existing
    errata can be viewed by selecting your title from [http://www.packtpub.com/support](http://www.packtpub.com/support).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽一切努力确保内容的准确性，但错误是难免的。如果您在我们的书籍中发现错误——也许是文本或代码中的错误——我们将不胜感激地接受您的报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问
    [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)
    进行报告，选择您的书籍，点击 **勘误提交表格** 链接，并输入您的勘误详情。一旦您的勘误被验证，您的提交将被接受，并且勘误将被上传到我们的网站上，或者添加到该标题的勘误列表中的任何现有勘误下的勘误部分。您可以通过访问
    [http://www.packtpub.com/support](http://www.packtpub.com/support) 选择您的标题来查看任何现有的勘误。
- en: Piracy
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyright material on the Internet is an ongoing problem across all
    media. At Packt, we take the protection of our copyright and licenses very seriously.
    If you come across any illegal copies of our works, in any form, on the Internet,
    please provide us with the location address or website name immediately so that
    we can pursue a remedy.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上侵犯版权材料的盗版是所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您发现盗版材料，请通过`<copyright@packtpub.com>`与我们联系。
- en: We appreciate your help in protecting our authors, and our ability to bring
    you valuable content.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们的作者和我们为您提供有价值的内容的能力方面的帮助。
- en: Questions
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: You can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    if you are having a problem with any aspect of the book, and we will do our best
    to address it.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在阅读书籍的过程中遇到任何问题，请通过`<questions@packtpub.com>`与我们联系，我们将尽力解决。
