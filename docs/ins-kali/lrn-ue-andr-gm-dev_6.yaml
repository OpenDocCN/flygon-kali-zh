- en: Chapter 6. Using Unreal Matinee
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第6章。使用虚幻Matinee
- en: 'Unreal Matinee is yet another powerful tool offered by Unreal Engine 4\. Unreal
    Matinee is used to create cinematics, cutscenes, animations, set pieces, and so
    on. It is also easy to learn, and you can use it to create amazing things. Usually,
    Matinee is used in conjunction with Blueprints. In the previous chapter, we had
    left out scripting a few things in our game, which we will be covering now. The
    following topics will be covered in this chapter:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 虚幻Matinee是虚幻引擎4提供的另一个强大工具。虚幻Matinee用于创建电影，过场动画，动画，布景等。它也很容易学习，您可以使用它来创建令人惊叹的东西。通常，Matinee与蓝图一起使用。在上一章中，我们在游戏中留下了一些脚本，现在我们将进行介绍。本章将涵盖以下主题：
- en: What is Unreal Matinee?
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是虚幻Matinee？
- en: Unreal Matinee user interface
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚幻Matinee用户界面
- en: Using Unreal Matinee in our game
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在我们的游戏中使用虚幻Matinee
- en: What is Unreal Matinee?
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是虚幻Matinee？
- en: Unreal Matinee is an animating tool. It provides tools which you can use to
    animate the properties of actors during gameplay or create cinematics, cutscenes,
    set pieces, and so on. With the help of curves and key frames, you can use this
    tool to animate actors in the game, just like any other video editing software
    that professionals use. You can also use Matinee to set up Matinee events.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 虚幻Matinee是一种动画工具。它提供了工具，您可以使用这些工具在游戏过程中对演员的属性进行动画处理，或者创建电影，过场动画，布景等。借助曲线和关键帧，您可以使用这个工具在游戏中对演员进行动画处理，就像专业人员使用的任何其他视频编辑软件一样。您还可以使用Matinee设置Matinee事件。
- en: Adding Matinee actors
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加Matinee演员
- en: 'Before you can use Matinee, the first thing you need to do is to add a Matinee
    actor into the scene. A Matinee actor is depicted by a clapper, like the ones
    you see on movie sets, as shown in the following screenshot:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在您可以使用Matinee之前，您需要做的第一件事是将Matinee演员添加到场景中。Matinee演员由一个类似于电影片场上看到的响板的图标表示，如下截图所示：
- en: '![Adding Matinee actors](img/image00363.jpeg)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![添加Matinee演员](img/image00363.jpeg)'
- en: We have already discussed one way of adding Matinee actors in [Chapter 4](part0033.xhtml#aid-VF2I2
    "Chapter 4. Using Actors, Classes, and Volumes"), *Using Actors, Classes, and
    Volumes*, through the Modes panel. Another way of adding Matinee actors while
    keeping a check on how many of them are placed in the scene is by clicking on
    the **Matinee** button in the Viewport toolbar, which opens a drop-down menu.
    Here, at the top of the menu, under the **New** section, you have the option to
    create a new Matinee actor by clicking on **Add Matinee**. Underneath this, in
    the **Edit Existing Matinee** section, you can find a list of all the Matinee
    actors placed in the list. Double-click on any of them to edit.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了通过Modes面板在[第4章](part0033.xhtml#aid-VF2I2 "第4章。使用演员，类和体积")中添加Matinee演员的一种方法，*使用演员，类和体积*。另一种添加Matinee演员的方法是通过单击视口工具栏中的**Matinee**按钮，这将打开一个下拉菜单，同时可以查看放置在场景中的Matinee演员的数量。在菜单的顶部，在**新建**部分下，您可以通过单击**添加Matinee**来创建一个新的Matinee演员。在此之下，在**编辑现有的Matinee**部分，您可以找到放置在列表中的所有Matinee演员的列表。双击其中任何一个以进行编辑。
- en: When you create a new Matinee actor or double-click on an existing one, a new
    window opens up. Let us take a closer look at it.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 当您创建新的Matinee演员或双击现有演员时，将打开一个新窗口。让我们仔细看一下。
- en: The Unreal Matinee user interface
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚幻Matinee用户界面
- en: Anyone who has used Matinee in **Unreal Development Kit** (**UDK**) will find
    that the layout and the user interface are quite similar.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 任何使用**虚幻开发工具包**（**UDK**）中的Matinee的人都会发现布局和用户界面非常相似。
- en: '![The Unreal Matinee user interface](img/image00364.jpeg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![虚幻Matinee用户界面](img/image00364.jpeg)'
- en: The tab and menu bar
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选项卡和菜单栏
- en: Just as in a web browser, in the tab bar, you can see how many windows are currently
    open, swap between them, rearrange them, and close any one of them.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 就像在Web浏览器中一样，在选项卡栏中，您可以看到当前打开了多少窗口，切换它们之间，重新排列它们，并关闭其中的任何一个。
- en: '![The tab and menu bar](img/image00365.jpeg)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![选项卡和菜单栏](img/image00365.jpeg)'
- en: 'Below that is the menu bar, containing the following actions and functions:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面是菜单栏，包含以下操作和功能：
- en: '**File**: From here, you have the option to either import sequences from FBX
    files (since FBX files, along with the mesh, also store the animation of the object,
    importing it will import the animation sequence of that FBX file to Matinee),
    export an animation sequence, save a sequence, and so on'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件**：从这里，您可以选择从FBX文件导入序列（因为FBX文件除了存储网格外，还存储对象的动画，导入它将导入该FBX文件的动画序列到Matinee），导出动画序列，保存序列等'
- en: '**Edit**: With this tab, you can undo or redo previous actions, add or remove
    key frames, edit sections, and so on'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**编辑**：使用此选项卡，您可以撤消或重做先前的操作，添加或删除关键帧，编辑部分等'
- en: '**Playback**: This gives you the options to play, pause, stop, loop, and reverse
    your animation sequence'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**播放**：这为您提供了播放，暂停，停止，循环和反转动画序列的选项'
- en: '**View**: Here, you can set what you wish to view, enable grid snapping, fit
    the entire sequence in the track view panel, and so on'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**视图**：在这里，您可以设置您希望查看的内容，启用网格捕捉，在轨道视图面板中适合整个序列等'
- en: '**Window**: This tab allows you to customize your Matinee UI by setting what
    panels and windows you want displayed in the UI, and so on'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**窗口**：此选项卡允许您通过设置要在UI中显示的面板和窗口等来自定义Matinee UI'
- en: '**Help**: You can access document and tutorials on Matinee from here'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**帮助**：您可以从这里访问有关Matinee的文档和教程'
- en: The toolbar
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工具栏
- en: Below the menu bar is the toolbar. Here, you can access the most commonly used
    actions.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在菜单栏下方是工具栏。在这里，您可以访问最常用的操作。
- en: '![The toolbar](img/image00366.jpeg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![工具栏](img/image00366.jpeg)'
- en: 'From left to right, the icons are as follows:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 从左到右，图标如下：
- en: '**Add Key**: This adds a key frame on the current position of the animation
    track.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**添加关键帧**：这会在动画轨道的当前位置添加一个关键帧。'
- en: '**Interpolation**: Interpolation means finding a point between two other points.
    In key frame animation, interpolation is an important tool, since it makes the
    animation smooth. With this, you can set the initial interpolation mode of the
    keys and curves. You can choose from linear, constant, curve auto clamped, curved
    auto, and so on.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**插值**：插值意味着在两个点之间找到一个点。在关键帧动画中，插值是一个重要的工具，因为它使动画变得平滑。通过这个选项，您可以设置关键帧和曲线的初始插值模式。您可以选择线性、恒定、曲线自动夹紧、曲线自动等。'
- en: '**Play**: The play button plays the animation sequence you create. You can
    see the animation in the Editor Viewport. The animation only plays once.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**播放**：播放按钮播放您创建的动画序列。您可以在编辑视口中看到动画。动画只播放一次。'
- en: '**Loop**: If you want to view the animation multiple times, you can click on
    the **Loop** button, and it will loop the animation once it has finished.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**循环**：如果要多次查看动画，可以单击**循环**按钮，动画完成后将循环播放。'
- en: '**Stop**: Clicking on this will stop the animation.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**停止**：单击此按钮将停止动画。'
- en: '**Reverse**: This plays the animation in reverse.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**反向**：这将以相反的方式播放动画。'
- en: '**Camera**: Clicking on this will enable you to create a **Camera** group.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**相机**：单击此按钮将使您能够创建**相机**组。'
- en: '**Playback Speed**: With this option, you can set the speed at which you want
    the animation to play. You can choose from **100%**, **50%**, **25%**, **10%**,
    and **1%** of the normal play speed.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**播放速度**：使用此选项，您可以设置动画播放的速度。您可以选择**100%**、**50%**、**25%**、**10%**和**1%**的正常播放速度。'
- en: '**Snap Settings**: If you have grid snapping enabled, you can set the snap
    size from here.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**快照设置**：如果启用了网格捕捉，您可以从这里设置快照大小。'
- en: '**Curve**: Enabled by default, you can use this to open/close the Curve Editor
    window.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**曲线**：默认情况下启用，您可以使用此选项打开/关闭曲线编辑器窗口。'
- en: '**Snap**: Represented by a magnet, this toggles grid snapping.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**捕捉**：由磁铁表示，此选项切换网格捕捉。'
- en: '**Time to Frames**: This snaps the timeline cursor to the snap size set in
    **Snap Setting**. It is enabled only if the snap size is in frames per second.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**时间转换为帧**：这将时间轴游标捕捉到**Snap Setting**中设置的快照大小。仅当快照大小以帧每秒为单位时才启用。'
- en: '**Fixed Time**: Using this, you can fix the playback speed to the framerate
    chosen in the **Snap Setting** menu. It only works if the snap setting is in frames
    per second.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**固定时间**：使用此选项，您可以将播放速度固定为**Snap Setting**菜单中选择的帧速率。只有在帧每秒的快照设置中才有效。'
- en: '**Sequence**: Click on this to zoom to fit the entire sequence you created
    in the Tracks panel.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**序列**：单击此按钮以缩放以适应您在轨道面板中创建的整个序列。'
- en: '**Selected**: This zooms to fit the selected key frames in the **Tracks** panel.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**已选择**：这将缩放以适应**轨道**面板中所选关键帧。'
- en: '**Loop**: This zooms the timeline to fit the loop sections in the animation
    sequence.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**循环**：这将缩放时间轴以适应动画序列中的循环部分。'
- en: '**Loop Sequence**: This sets the starting point of the loop section to the
    start of the animation sequence, and the end to the end of the sequence. In other
    words, clicking on this will resize and fit the loop section to the entire animation
    sequence you created.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**循环序列**：这将循环部分的起始点设置为动画序列的开始，将结束点设置为序列的结束。换句话说，单击此选项将调整并适合循环部分到您创建的整个动画序列。'
- en: '**End**: If you click on the arrow at the far right corner of the toolbar,
    you will find three more icons. The first of them is **End**. This moves the Tracks
    timeline to the end of the sequence.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**结束**：如果单击工具栏最右侧的箭头，您将找到另外三个图标。它们中的第一个是**结束**。这将将轨道时间线移动到序列的末尾。'
- en: '**Recorder**: This opens the **Matinee Recorder** window, which you can use
    to record sequences for your Matinee.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**录制器**：这将打开**Matinee Recorder**窗口，您可以使用它来记录Matinee的序列。'
- en: '**Movie**: Finally, we have the **Movie** option. You can use this to create
    a movie from the animation sequence you created.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**电影**：最后，我们有**电影**选项。您可以使用它从您创建的动画序列中创建电影。'
- en: The Curve Editor
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 曲线编辑器
- en: The next window we have is the **Curve Editor**. As with any animation software,
    you can edit your animations using curves. It is also used if you want to have
    particle systems in your animation sequence. There are other numerous uses of
    curves, but these are the most common uses. The *x* axis represents time, and
    the *y* axis is the value that you are changing in your Matinee over time. The
    curve in the Curve Editor shows that the value is changing over time. For instance,
    if the value is changing at a constant rate, the curve would be linear, if the
    value is changing exponentially, the curve would be an exponential curve, and
    so on.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们要看的是**曲线编辑器**。与任何动画软件一样，您可以使用曲线来编辑动画。如果您想在动画序列中使用粒子系统，也可以使用它。曲线还有其他许多用途，但这些是最常见的用途。*x*轴表示时间，*y*轴表示您在Matinee中随时间变化的值。曲线编辑器中的曲线显示了值随时间的变化。例如，如果值以恒定速率变化，曲线将是线性的；如果值呈指数变化，曲线将是指数曲线，依此类推。
- en: To view and edit curves, you first have to toggle them in the **Tracks** Panel.
    Once done, you will see the curve of the corresponding animation sequence, which
    you can then edit in order to further edit or fine-tune your animation.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看和编辑曲线，您首先必须在**轨道**面板中切换它们。完成后，您将看到相应动画序列的曲线，然后可以编辑它以进一步编辑或微调动画。
- en: '![The Curve Editor](img/image00367.jpeg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![曲线编辑器](img/image00367.jpeg)'
- en: 'At the top is the toolbar of the Curve Editor. Let''s look at its options:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 顶部是曲线编辑器的工具栏。让我们看看它的选项：
- en: '**Horizontal**: This option enables zooming to fit the selected curve group
    horizontally.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**水平**：此选项可使所选曲线组在水平方向上适合缩放。'
- en: '**Vertical**: This is the same as the **Horizontal** option, but it fits the
    selected curve group vertically.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**垂直**：这与**水平**选项相同，但它使所选曲线组在垂直方向上适合缩放。'
- en: '**All**: It fits the curve both horizontally as well as vertically so that
    the whole curve is visible in the Curve Editor.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全部**：它在水平和垂直方向上都适合曲线，以便整个曲线在曲线编辑器中可见。'
- en: '**Selected**: This performs the same function as **All**, but only for the
    selected points.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**已选择**：此选项执行与**全部**相同的功能，但仅适用于所选点。'
- en: '**Pan**: This switches the **Curve Editor** to pan mode, meaning you can move
    around in the graph editor by holding the left mouse button and dragging it.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**平移**：将**曲线编辑器**切换到平移模式，这意味着您可以通过按住鼠标左键并拖动来在图形编辑器中移动。'
- en: '**Zoom**: This switches to the zoom mode. You can zoom in and out by holding
    the left mouse button and dragging the mouse.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**缩放**：切换到缩放模式。您可以通过按住鼠标左键并拖动鼠标来放大和缩小。'
- en: '**Auto**: This changes the selected curves interpolation to **Auto**.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动**：将所选曲线的插值更改为**自动**。'
- en: '**Auto/Clamped**: Set the selected curves interpolation to **Auto/Clamped**.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动/夹紧**：将所选曲线的插值设置为**自动/夹紧**。'
- en: '**User**: This option changes the interpolation to User (if you make any change
    to the curve while it is set to **Auto** or **Auto/Clamped**, it will change the
    interpolation to User).'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户**：此选项将插值更改为用户（如果您在设置为**自动**或**自动/夹紧**时对曲线进行任何更改，它将更改插值为用户）。'
- en: '**Break**: This changes the interpolation to **Break**.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**中断**：将插值更改为**中断**。'
- en: '**Linear**: This changes the interpolation to **Linear**. This means that the
    curve between the two points will be linear, that is, a straight line between
    the two key frames.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**线性**：将插值更改为**线性**。这意味着两个点之间的曲线将是线性的，也就是说，在两个关键帧之间是一条直线。'
- en: '**Constant**: This changes the interpolation to **Constant**. This means that
    the curve between the selected key frames will be a straight horizontal line.
    In other words, the value along the *Y* axis will remain constant over time.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**恒定**：将插值更改为**恒定**。这意味着所选关键帧之间的曲线将是一条水平直线。换句话说，*Y*轴上的值将随时间保持恒定。'
- en: '**Flatten**: Clicking on this will flatten the selected tangent of the curve,
    making it flat.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**平坦**：单击此按钮将使所选曲线的切线变平，使其变平。'
- en: '**Straighten**: This option removes any irregularities from the selected tangent
    of the curve and makes it straight.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**拉直**：此选项会删除所选曲线的切线上的任何不规则之处，并使其变直。'
- en: '**Show All**: This shows all the tangents of all the curves present.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示全部**：显示所有曲线的所有切线。'
- en: '**Create**: Finally, we have the **Create** tab button. You have the option
    to create multiple tabs. You can switch between tabs by clicking on the arrow
    button at the extreme right corner of the toolbar and selecting which tab to go
    to using the **Current** tab menu. You can also delete the current tab.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**创建**：最后，我们有**创建**选项卡按钮。您可以选择创建多个选项卡。您可以通过单击工具栏极端右侧的箭头按钮并使用**当前**选项卡菜单选择要转到的选项卡来在选项卡之间切换。您还可以删除当前选项卡。'
- en: 'Below the toolbar, on the left-hand side, is the track list. Here, you can
    see all of the tracks in the current tab. At the top is the name of the track,
    and at the bottom are buttons that you can toggle on/off. In this example, we
    have a movement track, so there are three buttons representing each axis: red
    represents the *X* axis, green the *Y* axis, and blue the *Z* axis. At the far
    right is a yellow button, which can be used to toggle the entire track on/off.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在工具栏下方，左侧是轨道列表。在这里，您可以看到当前选项卡中的所有轨道。顶部是轨道的名称，底部是可以切换开/关的按钮。在这个例子中，我们有一个移动轨道，所以有三个按钮分别代表每个轴：红色代表*X*轴，绿色代表*Y*轴，蓝色代表*Z*轴。最右边是一个黄色按钮，可以用来切换整个轨道的开/关。
- en: '![The Curve Editor](img/image00368.jpeg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![曲线编辑器](img/image00368.jpeg)'
- en: To its right, we have the Graph Editor, where you can see and tweak the curves.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在右侧，我们有图形编辑器，您可以在那里查看和调整曲线。
- en: '![The Curve Editor](img/image00369.jpeg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![曲线编辑器](img/image00369.jpeg)'
- en: Here, you can see that there are three separate curves—each representing the
    buttons we just discussed. You can tweak each of the curves here to get the desired
    result. Select a point on the curve and change the tangent to alter the shape
    of the curve.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以看到有三条单独的曲线，每条曲线代表我们刚讨论过的按钮。您可以在这里调整每条曲线以获得所需的结果。选择曲线上的一个点并更改切线以改变曲线的形状。
- en: The Tracks panel
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 轨道面板
- en: In the **Tracks** panel, you can see all of the tracks, folders, and groups
    in your animation sequence.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在**轨道**面板中，您可以看到动画序列中的所有轨道、文件夹和组。
- en: '![The Tracks panel](img/image00370.jpeg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![轨道面板](img/image00370.jpeg)'
- en: Here, you can see the timeline specifying how long the animation is, the groups
    you have created, all the components that are involved in the animation, and so
    on. At the top of the panel is the tab bar. Below it is the **Group** tab. For
    simple animations, you do not really need this, but if you have a complex animation
    sequence (such as a cinematic or a cutscene), you may want to make use of this
    feature to keep your workstation neat and organized. You can put similar actors
    in their respective tabs. For example, if you have cameras, you can place them
    in the **Camera** group. To create a group or a folder, right click on it; this
    will open a menu, from which you can create a group or a folder.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以看到指定动画持续时间、创建的组、参与动画的所有组件等时间轴。面板顶部是选项卡栏。下面是**组**选项卡。对于简单的动画，您实际上不需要这个，但是如果您有一个复杂的动画序列（比如电影或过场动画），您可能希望利用此功能来保持工作站整洁有序。您可以将类似的角色放在各自的选项卡中。例如，如果您有摄像机，您可以将它们放在**摄像机**组中。要创建组或文件夹，请右键单击它；这将打开一个菜单，您可以从中创建组或文件夹。
- en: Below the **Group** tab, on the left, is the Group and Track list. All of the
    groups and tracks in your animation sequence or in the current tab are listed.
    You can also add or remove groups here.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在**组**选项卡下方，左侧是组和轨道列表。列出了动画序列或当前选项卡中的所有组和轨道。您还可以在这里添加或删除组。
- en: '![The Tracks panel](img/image00371.jpeg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![轨道面板](img/image00371.jpeg)'
- en: As you can see, there are various tracks under a group. Each individual track
    has its own animation which you can edit. You can also toggle an entire track
    on/off by clicking on the gray box on the left of each track. On the bottom-right
    corner are two more boxes. The button on the left enables or disables the respective
    track from playing in the animation sequence. The one on the right enables or
    disables the Curve Editor for that track. Also, some tracks do not have these
    two buttons, indicating that those tracks do not have a curve.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，组下有各种轨道。每个单独的轨道都有自己的动画，您可以进行编辑。您还可以通过单击每个轨道左侧的灰色框来切换整个轨道的开/关。右下角还有两个框。左侧的按钮可以启用或禁用在动画序列中播放的相应轨道。右侧的按钮可以启用或禁用该轨道的曲线编辑器。还有一些轨道没有这两个按钮，表明这些轨道没有曲线。
- en: To its right is the animation timeline.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 右侧是动画时间轴。
- en: '![The Tracks panel](img/image00372.jpeg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![轨道面板](img/image00372.jpeg)'
- en: At the bottom, you can see the animation timescale. Above it, the translucent
    white box with the red edges depicts the total duration of the animation time.
    You can click on the edges and drag them left or right to decrease or increase
    the duration of the animation respectively. The light green box shows the duration
    of the loop sequence. This means that only the section inside the green segment
    will loop, the rest will be ignored. You can also increase or decrease its size
    by clicking and dragging the green arrow right or left. There is also the timeline
    slider, depicted by the white line, which you can use to jump to any frame. Finally,
    you can click anywhere on the time bar to jump to any frame. The timeline slider
    will jump to wherever you click.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在底部，您可以看到动画时间刻度。在其上方，半透明的白色框带有红色边缘，表示动画时间的总持续时间。您可以单击边缘并将其向左或向右拖动，以相应地减少或增加动画的持续时间。浅绿色框显示了循环序列的持续时间。这意味着只有绿色部分内的部分将循环，其余部分将被忽略。您还可以通过单击并拖动绿色箭头向右或向左来增加或减少其大小。还有时间轴滑块，由白线表示，您可以使用它跳转到任何帧。最后，您可以单击时间轴上的任何位置跳转到任何帧。时间轴滑块将跳转到您单击的位置。
- en: The Details panel
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 详细面板
- en: Finally, there is the **Details** panel, wherein you can set the properties
    of certain tracks, groups, and so on.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 最后是**详细**面板，您可以在其中设置某些轨道、组等的属性。
- en: '![The Details panel](img/image00373.jpeg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![详细面板](img/image00373.jpeg)'
- en: The preceding screenshot shows the properties of the key frame of a movement
    track. You can toggle the movement track from playing in the Viewport, toggle
    the rotation on/off, set whether you want to see the track in the Editor Viewport,
    and so on.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 上述截图显示了移动轨道关键帧的属性。您可以在视口中切换移动轨道的播放，切换旋转开/关，设置是否要在编辑器视口中看到轨道等。
- en: Animating the door
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 门的动画
- en: Now that you are acquainted with Unreal Matinee and its user interface, we can
    go ahead and add a few animations to our game. This includes animations for the
    doors opening, a small cutscene in the first room, and drawing a bridge for the
    AI character.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经熟悉了虚幻Matinee及其用户界面，我们可以继续向游戏中添加一些动画。这包括门的开启动画、第一个房间中的小片段以及为AI角色绘制桥梁的动画。
- en: Room 1
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 房间1
- en: It is now time to actually use Matinee in our game. Select the Matinee actor
    near the door in the first room and click on **Open Matinee** in the **Details**
    panel. Once opened, the first step is to add a group. Before making a group, be
    sure that the actor or actors you want to animate are selected in the **Editor
    Viewport**; otherwise, the group will not have any actor reference in it, and
    you will get an error saying **Nothing to keyframe**, or **Selected object cant
    be keyframed on this type of track**.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候在我们的游戏中实际使用Matinee了。选择第一个房间中门附近的Matinee角色，并在**详细**面板中单击**打开Matinee**。打开后，第一步是添加一个组。在制作组之前，请确保您在**编辑器视口**中选择了要进行动画处理的角色；否则，组中将没有任何角色引用，并且您将收到一个错误，指示**没有要关键帧**，或者**所选对象无法在此类型的轨道上进行关键帧处理**。
- en: Click on the door to select it, right-click on the **Track list** in the **Tracks**
    panel, and select **Add New Empty Group**. When asked to name the group, name
    it **Door** and press *Enter*. The door will be attached to this group. This will
    create an empty group in which you can place multiple tracks (movement, visibility,
    particles, and so on). First, we will need a movement track. Right-click on **Door**
    and select **Add New Movement Track**. Once created, you will see it in the **Tracks**
    panel.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 单击门以选择它，在**轨道**面板的**轨道列表**上右键单击，然后选择**添加新的空组**。当要求命名组时，请将其命名为**门**并按*Enter*。门将附加到此组中。这将创建一个空组，您可以在其中放置多个轨道（移动、可见性、粒子等）。首先，我们需要一个移动轨道。右键单击**门**，然后选择**添加新的移动轨道**。创建后，您将在**轨道**面板中看到它。
- en: '![Room 1](img/image00374.jpeg)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![房间1](img/image00374.jpeg)'
- en: Now, we do not want the animation to last for 5 seconds, since it is too long
    for a simple door opening animation and would unnecessarily slow the game down.
    So, decrease the animation duration to 2 seconds by left-clicking on the red arrow
    on the extreme right (which is above the 5-second mark) and move it back over
    to the 2-second mark. If you want, you can also increase the loop sequence duration
    from 1 second to 2 seconds by doing the same with the green arrow on the right
    edge of the green box.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们不希望动画持续5秒，因为对于简单的门开启动画来说太长了，会不必要地减慢游戏速度。因此，通过左键单击位于5秒标记上方的极端右侧的红色箭头，并将其移回到2秒标记上，将动画持续时间减少到2秒。如果需要，您还可以通过对绿色框右边的绿色箭头执行相同操作，将循环序列持续时间从1秒增加到2秒。
- en: '![Room 1](img/image00375.jpeg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![房间1](img/image00375.jpeg)'
- en: 'In the timeline, before the Movement track, you will see a small maroon arrow
    over the 0-second mark. This is a key frame. Since we have a simple animation,
    we only need two key frames: one at the beginning of the animation sequence and
    the other at the end (as shown in the preceding screenshot). To add the second
    key frame, move the animation slider to the end of the animation timeline and
    press *Enter*.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间轴上，在移动轨道之前，您将看到一个小的栗色箭头覆盖在0秒标记上。这是一个关键帧。由于我们有一个简单的动画，我们只需要两个关键帧：一个在动画序列开始时，另一个在结束时（如前面的截图所示）。要添加第二个关键帧，请将动画滑块移动到动画时间轴的末尾，然后按*Enter*。
- en: Now that we have the key frames set up, go back to the Editor.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经设置好了关键帧，回到编辑器。
- en: '![Room 1](img/image00376.jpeg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00376.jpeg)'
- en: You will notice something on the top-left corner of the Viewport. Whenever you
    open Matinee, the Viewport changes to preview the corresponding Matinee animation.
    At the top left, written in white text is **Matinee**. This is basically notifying
    that the Viewport is currently set to the preview mode. Next to it, written in
    teal text is the resolution of the viewport. Below it, written in green text,
    is the number of frames in the corresponding Matinee animation. At the top-left
    corner, it reads **Matinee**. Next to it, you can see the resolution, and below
    it, the total number of frames in the animation. In this mode, you cannot save,
    open, or load a scene, nor can you play the game. In order to perform any of these
    actions, you must first close Matinee.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 您会注意到在视口的左上角有一些东西。每当您打开Matinee时，视口会更改以预览相应的Matinee动画。在左上角，用白色文字写着**Matinee**。这基本上是在通知视口当前设置为预览模式。它旁边，用青色文字写着视口的分辨率。下面，用绿色文字写着相应Matinee动画的帧数。在左上角，它写着**Matinee**。它旁边，您可以看到分辨率，下面是动画的总帧数。在这种模式下，您无法保存、打开或加载场景，也无法播放游戏。为了执行这些操作中的任何一个，您必须首先关闭Matinee。
- en: Now, making sure that the timeline slider is at the end of the animation timeline,
    using the transform tool, move the Door upwards or along the *z* axis. Move it
    until it is out of the way.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，确保时间轴滑块位于动画时间轴的末尾，使用变换工具，将门向上或沿着*z*轴移动。移动它直到它不再挡路。
- en: '![Room 1](img/image00377.jpeg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00377.jpeg)'
- en: You will see a vertical yellow line whenever you move the door. This line shows
    the path the door will follow when the animation is played. To view the animation,
    go back to Matinee and click on the **Play** button in the toolbar.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 每当移动门时，您会看到一个垂直的黄色线。这条线显示了动画播放时门将要遵循的路径。要查看动画，请返回到Matinee并在工具栏中点击**播放**按钮。
- en: 'The next thing we need is to make use of the camera we added earlier. When
    the player places the key cube on the pedestal, we want to play a small cutscene
    showing what effect it has, so that the player knows what the main objective is
    in the rooms. In this cutscene, we will:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来需要做的是利用之前添加的摄像头。当玩家将关键方块放在基座上时，我们希望播放一个小的过场动画，展示它的效果，以便玩家知道房间的主要目标是什么。在这个过场动画中，我们将：
- en: Take the control away from the player.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将控制权从玩家手中拿走。
- en: Switch from the main camera to the camera in front of the door.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从主摄像头切换到门前的摄像头。
- en: Play the animation.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 播放动画。
- en: Give back the player control over the character.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将玩家控制权交还给角色。
- en: For this, we will need to add a camera group. Going back to the Matinee window,
    right-click on the **Tracks** panel and click on **Add New Camera** Group (again,
    make sure that the camera is selected in the Viewport). Name this group **Camera**.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我们需要添加一个摄像头组。返回到Matinee窗口，在**轨道**面板上右键单击，然后点击**添加新摄像头**组（再次确保在视口中选择了摄像头）。将此组命名为**摄像头**。
- en: '![Room 1](img/image00378.jpeg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00378.jpeg)'
- en: 'A Camera group has two tracks: a **Movement** track and a **FOVAngle** angle
    track. You can use this to move the camera and set its field of view when the
    Matinee is playing. In this case, we want the camera to be stationary. So, take
    the timeline slider to the end of the timeline and hit *Enter* in the **Movement**
    track of the camera group to create a key frame.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 摄像头组有两个轨道：一个**移动**轨道和一个**FOVAngle**角度轨道。您可以在Matinee播放时使用它来移动摄像头并设置其视野。在这种情况下，我们希望摄像头保持静止。因此，将时间轴滑块移动到时间轴的末尾，并在摄像头组的**移动**轨道上按*Enter*创建一个关键帧。
- en: The next thing we need is what is called a **Director** Group. One of its uses
    is to assign which camera to switch to when playing the animation. Again, right-click
    on the **Tracks** panel and select **Create New Director Group**. A new, separate
    track will be created above the **Track** panel for the **Director** Group.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要的下一件事是所谓的**导演**组。它的一个用途是在播放动画时分配要切换到哪个摄像头。同样，在**轨道**面板上右键单击，然后选择**创建新导演组**。将为**导演**组在**轨道**面板上方创建一个新的、独立的轨道。
- en: '![Room 1](img/image00379.jpeg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00379.jpeg)'
- en: Now that we have our **Director** group, we need to tell it which camera to
    switch to when the animation is playing. To do so, select it and press *Enter*.
    This will open a small window asking you which group to cut to. This window enlists
    all the groups we have created in our Matinee. Here, click on the dropdown menu,
    select **Camera**, and click **OK** (Be sure that the timeline slider is at the
    0-second mark). Once done, the **Camera** group will be assigned to the **Director**
    group.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了我们的**导演**组，我们需要告诉它在动画播放时切换到哪个摄像头。要做到这一点，选择它并按*Enter*。这将打开一个小窗口，询问您要切换到哪个组。这个窗口列出了我们在Matinee中创建的所有组。在这里，点击下拉菜单，选择**摄像头**，然后点击**确定**（确保时间轴滑块在0秒标记处）。完成后，**摄像头**组将被分配给**导演**组。
- en: '![Room 1](img/image00380.jpeg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00380.jpeg)'
- en: Now if you play the Matinee, you will see that in the Viewport, the camera switches
    to the one we placed in front of the door. We have our Matinee set up. Now we
    need to script in when it should play. We want it to play when the player places
    the key cube on the pedestal. So, open Blueprint, and in the sequence we created
    for the placement of the key cube, add a **Sequence** node. Attach this to the
    **Gate** node. Next, attach the **Then 0** output pin to the **Set Actor Hidden
    in Game** node.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如果播放Matinee，您会看到在视口中，摄像机切换到我们放在门前的摄像机。我们已经设置好了我们的Matinee。现在我们需要编写它何时播放。我们希望在玩家将钥匙方块放在基座上时播放。因此，打开蓝图，在我们为放置钥匙方块创建的序列中，添加一个**Sequence**节点。将其附加到**Gate**节点。接下来，将**Then
    0**输出引脚附加到**Set Actor Hidden in Game**节点。
- en: '![Room 1](img/image00381.jpeg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00381.jpeg)'
- en: Next, with the **Matinee** actor selected in the Viewport, right-click and create
    its reference. Then, drag the pin of this node and type in `Play` when the menu
    opens to create a **Play** node. Attach this to the Then 1 pin of the **Sequence**
    node.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在视口中选择**Matinee**演员，右键单击并创建其引用。然后，拖动此节点的引脚，并在菜单打开时输入`Play`以创建**Play**节点。将其附加到**Sequence**节点的Then
    1引脚上。
- en: '![Room 1](img/image00382.jpeg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00382.jpeg)'
- en: 'If you test out the level, you will see that everything is working as intended;
    when the player places the key cube on the pedestal, the camera will switch to
    the one in front of the door, and the animation of the door will start playing.
    However, there is still something left to do. You can still control the player
    (move around and shoot) while the cutscene is playing. We want the player to be
    unable to move or shoot while the animation is playing. To do so, select the **Matinee**
    actor, and in the **Details** panel, under the **Cinematic** section, check the
    following:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您测试关卡，您会看到一切都按预期工作；当玩家将钥匙方块放在基座上时，摄像机将切换到门前的摄像机，并且门的动画将开始播放。但是，还有一件事情要做。在剧情片段播放时，您仍然可以控制玩家（移动和射击）。我们希望在动画播放时玩家无法移动或射击。为此，选择**Matinee**演员，在**详细信息**面板中，在**电影**部分下，勾选以下内容：
- en: '**Disable Movement Input**'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**禁用移动输入**'
- en: '**Disable Look at Input**'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**禁用观看输入**'
- en: '**Hide Player**'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**隐藏玩家**'
- en: '![Room 1](img/image00383.jpeg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![Room 1](img/image00383.jpeg)'
- en: 'And there we have it: we have just created our very own cutscene. Let us move
    on to the large door in the second room.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 到此为止：我们刚刚创建了自己的剧情片段。让我们继续进行第二个房间的大门。
- en: Room 2
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Room 2
- en: 'In the middle of the second room, we have a large door. We want the player
    to be able to use it when they place the first key cube upon the pedestal. So
    far, it is quite similar to the previous door. The only differences here are as
    follows:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二个房间的中间，我们有一扇大门。我们希望玩家在将第一个钥匙方块放在基座上时能够使用它。到目前为止，这与之前的门非常相似。这里唯一的区别是：
- en: The door opens when the player touches it on the screen (provided it is unlocked
    first).
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 玩家在屏幕上触摸时门打开（前提是它首先被解锁）。
- en: The door closes when the player releases their finger from the screen.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 玩家从屏幕上释放手指时门关闭。
- en: Here, the Matinee part will be similar; we will create a Movement track 2 seconds
    long and animate the door going upwards. Here, since we are not creating a cut-scene,
    we do not need a **Camera** group or a **Director** group, neither do we need
    to disable the player input while the matinee is running. With that in mind, select
    the **Matinee** actor near the large door and click **Open Matinee** in the **Details**
    panel. Animate the door using the **Movement** track, as we did with the previous
    door.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，Matinee部分将类似；我们将创建一个持续2秒的移动轨道，并使门向上移动。在这里，由于我们不是在创建一个剧情片段，因此我们不需要**Camera**组或**Director**组，也不需要在Matinee运行时禁用玩家输入。考虑到这一点，选择靠近大门的**Matinee**演员，并在**详细信息**面板中单击**打开Matinee**。使用**Movement**轨道来为门制作动画，就像我们之前为另一扇门所做的那样。
- en: 'Once done, open Level Blueprint. Here, instead of the cube opening the door,
    we will make use of the Touch input node. As with the previous triggers, add an
    overlapping event for the big trigger around the door. Set up the nodes as shown
    in the following screenshot:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，打开关卡蓝图。在这里，我们将不再使用立方体打开门，而是使用触摸输入节点。与之前的触发器一样，为门周围的大触发器添加一个重叠事件。设置节点如下截图所示：
- en: '![Room 2](img/image00384.jpeg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![Room 2](img/image00384.jpeg)'
- en: Here, when the player overlaps the trigger, it enables the player input and
    opens the **Gate** node. When the player now touches the screen, it will play
    the **Matinee**. The only thing we need to script is what happens when the player
    releases the screen. Here, when the player stops touching the screen, the door
    will close, that is, the **Matinee** will play in reverse.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，当玩家重叠触发器时，它会启用玩家输入并打开**Gate**节点。现在，当玩家触摸屏幕时，它将播放**Matinee**。我们需要编写的唯一事情是玩家释放屏幕时会发生什么。在这里，当玩家停止触摸屏幕时，门将关闭，也就是**Matinee**将以相反方式播放。
- en: To do so, create another reference of the **Matinee** actor (or just duplicate
    the one already there), create a **Reverse** node, and attach the **Matinee**
    actor to its **Target** input.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，创建**Matinee**演员的另一个引用（或只需复制已有的引用），创建一个**Reverse**节点，并将**Matinee**演员附加到其**Target**输入。
- en: '![Room 2](img/image00385.jpeg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![Room 2](img/image00385.jpeg)'
- en: Upon testing the game now, you will see that when you place the key cube on
    the first pedestal and click on the door (when playing in the Editor, the mouse
    button acts as a touch input), the door opens; as soon as you let go, it closes
    again. Do the same with the doors in room 4, but you do not need to unlock the
    door first; you can simply script it so that it opens when the player is close
    to it and touches on the screen, and closes when the player releases their finger
    from the screen. Let us move on to the platforms for the bridge.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在测试游戏，当您将钥匙方块放在第一个基座上并点击门时（在编辑器中播放时，鼠标按钮充当触摸输入），门会打开；一旦您松开，它会再次关闭。在第4个房间的门上也是一样，但您无需先解锁门；您可以简单地编写脚本，使其在玩家靠近并触摸屏幕时打开，并在玩家从屏幕上释放手指时关闭。让我们继续进行桥梁的平台。
- en: A bridge for the AI character
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AI角色的桥梁
- en: In the room with the AI character, the player has to make a bridge for it, so
    that it can cross the pit and unlock the key cube. There are switches that draw
    a segment of the bridge. The player has to quickly draw all of the segments of
    the bridge before the AI character falls it into the pit. In the third room, the
    bridge will have three parts, each part drawn by the switches on the pedestal.
    For our bridge, we will use the Cube primitive actor. Add three Cube primitive
    actors into the scene, set their scale as `2.2`, `2.5`, `0.3` respectively, and
    place them at the bottom of the pit. Make sure to set their mobility to **Movable**.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在AI角色的房间里，玩家必须为它建造一座桥，这样它就可以穿过坑并解锁关键方块。有开关可以绘制桥的一部分。玩家必须在AI角色掉进坑之前迅速绘制桥的所有部分。在第三个房间，桥将有三个部分，每个部分由基座上的开关绘制。对于我们的桥，我们将使用Cube原始角色。将三个Cube原始角色添加到场景中，将它们的比例设置为`2.2`，`2.5`，`0.3`，并将它们放在坑的底部。确保将它们的移动性设置为**可移动**。
- en: '![A bridge for the AI character](img/image00386.jpeg)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00386.jpeg)'
- en: 'After doing this, add three Matinee actors, one for each section. Then, in
    Matinee, set the animation time as 1 second and animate the section coming up
    by moving it so that it is aligned with the ground. Make sure that the section
    is perfectly aligned. If it is too high, the AI character will not be able to
    get on it, and if it is too low, the AI character will not be able to get to the
    other side. If you see that the upper surface of the section is green (because
    of the Nav Mesh Bounds Volume), it means that the section is walkable for the
    AI character, as shown in the following screenshot:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，添加三个Matinee演员，每个部分一个。然后，在Matinee中，将动画时间设置为1秒，并通过移动来动画部分上升，使其与地面对齐。确保部分完全对齐。如果太高，AI角色将无法上去，如果太低，AI角色将无法到达另一侧。如果看到部分的上表面是绿色的（因为导航网格边界体），这意味着AI角色可以行走在上面，如下截图所示：
- en: '![A bridge for the AI character](img/image00387.jpeg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00387.jpeg)'
- en: Do the same with the remaining two sections, ensuring that they fit perfectly
    when they are drawn.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 对于剩下的两个部分也要做同样的操作，确保它们在绘制时完美契合。
- en: '![A bridge for the AI character](img/image00388.jpeg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00388.jpeg)'
- en: The next thing we need to do is script the Matinee into our game. We have four
    pedestals in the third room. From left to right, the first one activates the AI
    character, the second one draws the first section of the bridge, the third one
    draws the second section, and the fourth one draws the third section. So, open
    up Level Blueprint, and just as with the large door in the second room, script
    it in so that the Matinee plays when the player is close enough to the switch
    and touches on the screen. Do this for all three trigger boxes playing their respective
    Matinee.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们需要在游戏中编写Matinee。在第三个房间有四个基座。从左到右，第一个激活AI角色，第二个绘制桥梁的第一部分，第三个绘制第二部分，第四个绘制第三部分。因此，打开关卡蓝图，就像在第二个房间的大门一样，编写蓝图，使得当玩家靠近开关并触摸屏幕时，Matinee会播放。对于所有三个触发盒，都要这样做，播放它们各自的Matinee。
- en: '![A bridge for the AI character](img/image00389.jpeg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00389.jpeg)'
- en: When the AI character falls into the pit, we want the sections of the bridge
    to go back down to the bottom of the pit, so that when the player starts over,
    they have to press the switches again to draw the sections. Go back to the trigger
    box which teleports the AI character back to its starting position. To the **Sequence**
    node, add a pin, creating a reference for all three Matinee actors. Create a **Reverse**
    node and connect all three actors to it.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 当AI角色掉进坑时，我们希望桥的部分回到坑的底部，这样当玩家重新开始时，他们必须再次按下开关来绘制部分。返回到将AI角色传送回起始位置的触发盒。对于**Sequence**节点，添加一个引脚，为所有三个Matinee演员创建一个引用。创建一个**Reverse**节点，并将所有三个演员连接到它。
- en: '![A bridge for the AI character](img/image00390.jpeg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00390.jpeg)'
- en: Now if the AI character falls into the pit, apart from being teleported back
    to its starting position, the sections of the bridge will also reset to their
    original position.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如果AI角色掉进坑里，除了被传送回起始位置，桥梁的部分也会重置到它们的原始位置。
- en: We have our puzzle set up. However, currently the puzzle has no payoff. We had
    mentioned earlier that when the AI character crosses the pit, it unlocks the key
    cube. But right now, our key cube does not seem to be locked. What we can do is
    encage our key cube, which opens when the AI character successfully crosses the
    pit. For this, place four cubes around the key cube (which act as walls of the
    cage), create a Matinee of them opening, and set up a trigger box, which plays
    the Matinee when the AI character overlaps the trigger box. So, place four cubes
    around the key cube enclosing it, and apply the door material to them (if you
    wish, you can duplicate **Door_Material**, and in the material editor, remove
    the connections to the **Refraction** expression and apply that to the walls,
    so that the key cube is properly visible from the other side of the pit). When
    placing these, ensure that the trigger box around the key cube is also enclosed
    within the walls.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经设置好了谜题。然而，目前这个谜题没有回报。我们之前提到，当AI角色穿过坑时，它会解锁关键方块。但现在，我们的关键方块似乎没有被锁住。我们可以把关键方块囚禁起来，当AI角色成功穿过坑时打开。为此，在关键方块周围放置四个立方体（作为囚笼的墙壁），创建它们打开的Matinee，并设置一个触发盒，当AI角色重叠触发盒时，播放Matinee。因此，在关键方块周围放置四个立方体，将其围住，并将门的材质应用于它们（如果愿意，可以复制Door_Material，并在材质编辑器中删除与Refraction表达式的连接，并将其应用于墙壁，以便从坑的另一侧正确看到关键方块）。在放置这些时，确保关键方块周围的触发盒也被墙壁包围。
- en: '![A bridge for the AI character](img/image00391.jpeg)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00391.jpeg)'
- en: Now add a Matinee near this cage and place a trigger box over the Target Point
    actor. Open up Matinee so that we can create our animation. Here, we have four
    separate objects to animate. However, since they all animate together, it would
    be wasteful to create four different Matinee actors for each wall. Instead, we
    will animate all four walls in the same Matinee. For this, we will create four
    different groups—one for each wall—each with a movement track. Select the first
    wall, create an empty group (name it **Wall1**) with a Movement track, and animate
    it going downwards. Set the animation time to 1-second. Then, create another empty
    group (name it **Wall2**) with a Movement track for the second wall, and animate
    it going downwards. Do the same for the remaining two walls.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 现在在这个笼子附近添加一个Matinee，并在目标点演员上放置一个触发框。打开Matinee，这样我们就可以创建我们的动画。在这里，我们有四个独立的对象需要进行动画。然而，由于它们都一起进行动画，为每堵墙创建四个不同的Matinee演员将是浪费的。相反，我们将在同一个Matinee中对所有四堵墙进行动画。为此，我们将创建四个不同的组，每个组都有一个移动轨道，分别用于每堵墙。选择第一堵墙，创建一个空组（命名为**Wall1**），带有一个移动轨道，并将其向下移动进行动画。将动画时间设置为1秒。然后，为第二堵墙创建另一个空组（命名为**Wall2**），带有一个移动轨道，并将其向下移动进行动画。对于剩下的两堵墙也是同样的操作。
- en: '![A bridge for the AI character](img/image00392.jpeg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00392.jpeg)'
- en: We now have four separate animated objects using the same Matinee actor. The
    last thing left is to set the overlapping event for the trigger box, which plays
    the Matinee.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有四个独立的动画对象，它们使用相同的Matinee演员。剩下的事情就是为触发框设置重叠事件，以播放Matinee。
- en: '![A bridge for the AI character](img/image00393.jpeg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![AI角色的桥梁](img/image00393.jpeg)'
- en: From what you have learned, apply the same method when making the bridges in
    the fourth room, making sure that the AI character can cross them when they are
    drawn.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你所学到的知识，在制作第四个房间的桥梁时，应用相同的方法，确保AI角色在桥梁被绘制时可以穿过它们。
- en: Summary
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: 'In this chapter, we looked at Unreal Matinee: what it is, its UI, and what
    can be done with it. We used it to create cutscenes and animate doors and bridges.
    And with this, we have completed our little game, which demonstrates the various
    features and tools offered by UE4\. The next step is finalizing the game (adding
    in a main menu, polishing the game, and so on), packaging it into an `.apk` file,
    porting it to an Android device, and testing it there.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了虚幻Matinee：它是什么，它的用户界面，以及可以用它做什么。我们使用它来创建过场动画并对门和桥进行动画。通过这样，我们完成了我们的小游戏，展示了UE4提供的各种功能和工具。下一步是完成游戏（添加主菜单，完善游戏等），将其打包成一个`.apk`文件，将其移植到Android设备上，并在那里进行测试。
