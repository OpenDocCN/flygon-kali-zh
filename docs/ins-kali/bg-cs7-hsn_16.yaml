- en: Downloading, Installing, and Running SQL Server 2017
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载、安装和运行SQL Server 2017
- en: In this chapter, you will download, install, and run SQL Server 2017 Express.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将下载、安装和运行SQL Server 2017 Express。
- en: Downloading SQL Server 2017 express
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载SQL Server 2017 Express
- en: 'Click on the following link to bring you to the site where you can download
    SQL Server 2017 Express, as shown in *Figure 16.1.1*:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 单击以下链接，将您带到可以下载SQL Server 2017 Express的网站，如*图16.1.1*所示：
- en: '[https://www.microsoft.com/en-us/sql-server/sql-server-editions-express](https://www.microsoft.com/en-us/sql-server/sql-server-editions-express)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.microsoft.com/en-us/sql-server/sql-server-editions-express](https://www.microsoft.com/en-us/sql-server/sql-server-editions-express)'
- en: '![](img/5f07b12c-2e88-445f-9568-633d4d3c9b5c.png)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5f07b12c-2e88-445f-9568-633d4d3c9b5c.png)'
- en: 'Figure 16.1.1: Download screen for SQL Server 2017 Express edition'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.1：SQL Server 2017 Express版下载屏幕
- en: Next, click on the Download now button. When the download is complete, double-click
    on `SQL Server2017-SSEI-Expr.exe`. Answer Yes on the User Account Control screen.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，单击“立即下载”按钮。下载完成后，双击“SQL Server2017-SSEI-Expr.exe”。在用户账户控制屏幕上选择“是”。
- en: Selecting the installation type
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择安装类型
- en: 'Next, you will need to select the installation type, as shown in *Figure 16.1.2*.
    Choose Basic installation and accept the License Terms agreement:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您需要选择安装类型，如*图16.1.2*所示。选择基本安装并接受许可条款协议：
- en: '![](img/c216a5e6-0a84-4fff-b665-79fc7e6332ea.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c216a5e6-0a84-4fff-b665-79fc7e6332ea.png)'
- en: 'Figure 16.1.2: Select the Basic installation from the installation type screen'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.2：从安装类型屏幕中选择基本安装
- en: Installing the package
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装程序
- en: Next, either accept the default install location or choose one of your own.
    The install package will then download and install the program. Be patient during
    the installation process, as it is a big program and it might take a little while.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，要么接受默认的安装位置，要么选择自己的位置。然后安装程序将下载并安装。在安装过程中要耐心等待，因为这是一个很大的程序，可能需要一点时间。
- en: 'When the installation has completed, you will see a screen similar to the one
    shown in *Figure 16.1.3*:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您将看到一个类似于*图16.1.3*的屏幕：
- en: '![](img/5b67cbb5-3fc3-401f-8333-f9d07b44cc49.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5b67cbb5-3fc3-401f-8333-f9d07b44cc49.png)'
- en: 'Figure 16.1.3: The installation has completed successfully'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.3：安装已成功完成
- en: Working with SQL server inside Visual Studio
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Visual Studio中使用SQL Server
- en: 'Once we have SQL server downloaded and installed, let''s take a look at it
    inside Visual Studio. Go to View and then select SQL Server Object Explorer; it
    opens a little pane on the left-hand side, as shown in *Figure 16.1.4*:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们下载并安装了SQL Server，让我们在Visual Studio中查看它。转到“视图”，然后选择“SQL Server对象资源管理器”；它会在左侧打开一个小窗格，如*图16.1.4*所示：
- en: '![](img/64ade300-d89c-4795-a6f2-86f1f86eac42.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](img/64ade300-d89c-4795-a6f2-86f1f86eac42.png)'
- en: 'Figure 16.1.4: The SQL Server Object Explorer pane in Visual Studio'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.4：Visual Studio中的SQL Server对象资源管理器窗格
- en: 'Next, click on the Add SQL Server Button, as shown in *Figure 16.1.5*:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，单击“添加SQL Server”按钮，如*图16.1.5*所示：
- en: '![](img/450ef23a-6f3b-43a8-a1f0-89ce369e71f3.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/450ef23a-6f3b-43a8-a1f0-89ce369e71f3.png)'
- en: 'Figure 16.1.5: The Add SQL Server Button'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.5：添加SQL Server按钮
- en: 'Now, the dialog box shown in *Figure 16.1.6* appears. Notice where it says
    Windows Authentication. This is known as *integrated security*. You don''t have
    to specify a different username and password. Just fill the Server Name field,
    click on Connect, and you''ll be logged in to it:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，出现了*图16.1.6*中显示的对话框。注意其中写着Windows身份验证。这被称为*集成安全性*。您不必指定不同的用户名和密码。只需填写服务器名称字段，单击“连接”，然后您就可以登录：
- en: '![](img/c5c8742a-10f7-4894-9b59-7d02117a0099.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c5c8742a-10f7-4894-9b59-7d02117a0099.png)'
- en: 'Figure 16.1.6: The Connect dialog box'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.6：连接对话框
- en: 'The specific version that you have will be different than the one shown in
    *Figure 16.1.7*, but these are the basic things that will apply to many different
    versions:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 您拥有的具体版本将与*图16.1.7*中显示的版本不同，但这些是适用于许多不同版本的基本内容：
- en: '![](img/af6a8699-3fe6-4949-8b26-bb878cc9461b.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](img/af6a8699-3fe6-4949-8b26-bb878cc9461b.png)'
- en: 'Figure 16.1.7: The Databases folder specific to this version of SQL Server
    2017 Express'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.7：特定于SQL Server 2017 Express版本的数据库文件夹
- en: Creating a SQL server database
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建SQL Server数据库
- en: 'Now, we will create a database. To do this, expand the Databases folder and
    right-click on it. Select Add New Database, as shown in *Figure 16.1.8*, and name
    the database `People`:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将创建一个数据库。要做到这一点，展开“数据库”文件夹，右键单击它。选择“添加新数据库”，如*图16.1.8*所示，并将数据库命名为“People”。
- en: '![](img/ff9787ff-8ee5-451f-9b89-80a17aa3ffd1.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ff9787ff-8ee5-451f-9b89-80a17aa3ffd1.png)'
- en: 'Figure 16.1.8: Adding a new database'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.8：添加新数据库
- en: Adding and defining a table
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加和定义表
- en: 'Now, expand the People node and then, within that, you will see a folder called
    Tables. Again, expand the Tables node, as you have to add your own table. Your
    SQL Server Object Explorer pane should look like the one shown in *Figure 16.1.9*:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，展开People节点，然后在其中，您将看到一个名为Tables的文件夹。再次展开Tables节点，因为您需要添加自己的表。您的SQL Server对象资源管理器窗格应该看起来像*图16.1.9*中显示的那样：
- en: '![](img/db005605-f725-413d-82f5-b536fded792a.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/db005605-f725-413d-82f5-b536fded792a.png)'
- en: 'Figure 16.1.9: The SQL Server Object Explorer pane with the People node and
    the Tables node expanded'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.9：SQL Server对象资源管理器窗格，其中People节点和Tables节点已展开
- en: 'Now, right-click on the Tables folder and select Add New Table. This brings
    up the table definition stage, which is shown in *Figure 16.1.10*:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，右键单击“Tables”文件夹，然后选择“添加新表”。这将打开表定义阶段，如*图16.1.10*所示：
- en: '![](img/41355237-7a2e-48cf-b35b-f5431a6fc84f.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](img/41355237-7a2e-48cf-b35b-f5431a6fc84f.png)'
- en: 'Figure 16.1.10: Table Definition screen'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.10：表定义屏幕
- en: This is where you define the table. Look at the first field with a little key,
    which appears near the top-left in the screenshot. This key would be used to identify
    the records or the rows of the table, and further, when you want to have auto
    generation enabled. In other words, you want the number assigned to each record
    to be generated automatically, so that you don't have to keep track of it.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这是您定义表的地方。看一下截图中左上角附近的第一个带有小键的字段。此键将用于标识表的记录或行，以及当您想要启用自动生成时。换句话说，您希望为每条记录分配的编号自动生成，这样您就不必跟踪它。
- en: 'So, if you right-click on the key and select Properties, it brings up the panel,
    shown in *Figure 16.1.11*, on the right-hand side of the screen:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果右键单击键并选择属性，它会在屏幕右侧显示*图16.1.11*中显示的面板：
- en: '![](img/cd951889-77d7-45cd-b347-ddf16acf9aaa.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cd951889-77d7-45cd-b347-ddf16acf9aaa.png)'
- en: 'Figure 16.1.11: The Table properties panel'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.11：表属性面板
- en: Now, look where it says Identity Specification. Expand that node and then, where
    it says Is Identity, choose True from the dropdown. As can be seen in *Figure
    16.1.12*, Identity Increment is 1 and Identity Seed is 1, which is fine. So, it
    begins at 1 and every time a new record is added, the record number grows by 1
    only. Notice that it also automatically changes the Code view.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，看标识规范的位置。展开该节点，然后在标识处，从下拉菜单中选择True。如*图16.1.12*所示，标识增量为1，标识种子为1，这很好。因此，它从1开始，每次添加新记录时，记录编号只增加1。请注意，它还会自动更改代码视图。
- en: '![](img/5ec75b86-a72f-44a0-8978-16974d7b5e14.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5ec75b86-a72f-44a0-8978-16974d7b5e14.png)'
- en: 'Figure 16.1.12: Setting the Identity Specification'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.12：设置标识规范
- en: 'Now, in the T-SQL window at the bottom of the screen, it says `CREATE TABLE
    [dbo].[Table]`. If you change `[Table]` to say `[People]`, that''s now the table
    name, as shown in *Figure 16.1.13*:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在屏幕底部的T-SQL窗口中，它说`CREATE TABLE [dbo].[Table]`。如果您将`[Table]`更改为`[People]`，那么现在就是表名，如*图16.1.13*所示：
- en: '![](img/b5183da6-f61d-45fe-afbc-5c64e84af3e0.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b5183da6-f61d-45fe-afbc-5c64e84af3e0.png)'
- en: 'Figure 16.1.13: Changing the Name of the table'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.13：更改表的名称
- en: In the following line, `[Id]` is the name of a column or a field; `INT` is the
    data type, `NOT NULL` means that entries must be specified, and `PRIMARY KEY`
    is used to identify records; you know what `IDENTITY` is by now, as you've seen
    it in previous steps.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下行中，`[Id]`是列或字段的名称；`INT`是数据类型，`NOT NULL`表示必须指定条目，`PRIMARY KEY`用于标识记录；您现在知道`IDENTITY`是什么了，因为您在之前的步骤中已经看到了它。
- en: Adding fields to the table
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向表中添加字段
- en: 'Now, you''ll add your own fields and your own columns. So next, enter the following:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您将添加自己的字段和列。因此，接下来，输入以下内容：
- en: '[PRE0]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This is the `NAME` field, and the data type is `varchar`, which stands for variable
    character. This is basically a text field, so specify the length as `100`, and
    because the entry should be specified, we will make it `NOT NULL`.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这是`NAME`字段，数据类型是`varchar`，代表可变字符。这基本上是一个文本字段，因此将长度指定为`100`，并且因为条目应该被指定，我们将使其为`NOT
    NULL`。
- en: 'Let''s add one more field. To do this, enter the following next:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再添加一个字段。要做到这一点，请输入以下内容：
- en: '[PRE1]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Here, `DATE ADDED` is the date on which the record is added and `DATE` is the
    data type. Your screen should look like the one shown in *Figure 16.1.14*.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`DATE ADDED`是记录添加的日期，`DATE`是数据类型。您的屏幕应该看起来像*图16.1.14*中显示的那样。
- en: 'Again, if you don''t want nulls, you can uncheck these in the Design window.
    So, the Table view in Design tab and the Code view interact:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，如果您不想要空值，可以在设计窗口中取消选中。因此，设计选项卡中的表视图和代码视图是相互交互的：
- en: '![](img/e119c575-61d6-4191-ad3c-e344f7210b70.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e119c575-61d6-4191-ad3c-e344f7210b70.png)'
- en: 'Figure 16.1.14: Two fields, NAME and DATEADDED, have been added to the table'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.14：已向表中添加了两个字段，NAME和DATEADDED
- en: Here, one thing to note is where it says T-SQL on the tab. Well, SQL is *Structured
    Query Language* and the Microsoft version is T-SQL or *Transact Structured Query
    Language*. The core is pretty much the same, but there are some additions in the
    Microsoft version.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 这里需要注意的一点是选项卡上标有T-SQL。嗯，SQL是*结构化查询语言*，微软版本是T-SQL或*Transact结构化查询语言*。核心基本相同，但在微软版本中有一些附加功能。
- en: Updating the structure of the database
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更新数据库的结构
- en: Now you have to update the structure of things, so click on the Update button
    in the upper-right corner of the screen. Give it a second to update everything
    and then click on the Update Database button.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您必须更新事物的结构，因此点击屏幕右上角的更新按钮。等待一会儿更新所有内容，然后点击更新数据库按钮。
- en: 'As seen in *Figure 16.1.15*, the update completed successfully:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如*图16.1.15*所示，更新已成功完成：
- en: '![](img/409a8539-8990-4978-bd02-16703c5fed92.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](img/409a8539-8990-4978-bd02-16703c5fed92.png)'
- en: 'Figure 16.1.15: The database update is complete and successful!'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.15：数据库更新已完成并成功！
- en: 'Now, in the SQL Server Object Explorer pane on the left-hand side, if you expand
    dbo.People and then expand Columns, you can see the default field or column and
    the new ones you created, as shown in *Figure 16.1.16*:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在左侧的SQL Server对象资源管理器窗格中，如果展开dbo.People，然后展开列，您可以看到默认字段或列以及您创建的新字段，如*图16.1.16*所示：
- en: '![](img/3f84abe5-eedb-4114-abad-1a726b32f073.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3f84abe5-eedb-4114-abad-1a726b32f073.png)'
- en: 'Figure 16.1.16: The columns we created in dbo.People'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1.16：我们在dbo.People中创建的列
- en: Chapter review
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 章节回顾
- en: In the preceding screenshot, starting from the top, the second item down indicates
    a server (SQL Server). Then, within that, you have databases as indicated by the
    People icon. When you expand a database, you have an icon for Tables, an icon
    for Columns, and the key icon that indicates the primary key. So, there is a meaning
    to the little icons that are used. They represent different levels of nesting
    within this database structure.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面的截图中，从顶部开始，第二项表示服务器（SQL Server）。然后，在其中，您有数据库，如People图标所示。当您展开数据库时，会有一个表的图标，一个列的图标，以及表示主键的关键图标。因此，使用的小图标代表不同级别的嵌套在这个数据库结构中。
- en: These are the basics.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是基础知识。
- en: 'So, be sure that you can re-create all of this. Exit out of this window, and
    now, click on View and go to Start Page. Then, do the following:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，请确保您可以重新创建所有这些。退出此窗口，然后单击“查看”，转到“起始页”。然后，执行以下操作：
- en: Open the SQL Server Object Explorer pane.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 SQL Server 对象资源管理器窗格。
- en: Right click on SQL Server.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击 SQL Server。
- en: Select Disconnect from the drop-down menu.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉菜单中选择“断开连接”。
- en: Right-click again, and select Add SQL Server from the drop-down menu.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击，然后从下拉菜单中选择“添加 SQL Server”。
- en: Browse for your server.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览您的服务器。
- en: Click on the Connect button at the bottom of the Connect screen.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击连接屏幕底部的“连接”按钮。
- en: Expand the server to show the `Databases` folder.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开服务器以显示“数据库”文件夹。
- en: Expand the `Databases` folder, and there you can see the `People` database.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开“数据库”文件夹，您可以看到“People”数据库。
- en: Open the `Tables` folder, and there's the `dbo.People` table.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开“表”文件夹，那里有“dbo.People”表。
- en: Summary
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you downloaded, installed, and ran SQL Server 2017 Express.
    You worked with SQL Server within Visual Studio, connecting the two, created a
    SQL Server database, added and defined a table, added fields to the table, and
    updated the structure of the database.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您下载、安装并运行了 SQL Server 2017 Express。您在 Visual Studio 中使用 SQL Server，连接了两者，创建了一个
    SQL Server 数据库，添加并定义了一个表，向表中添加了字段，并更新了数据库的结构。
- en: In the next chapter, you will learn how to connect to SQL Server and then display
    the records from the database table in a web page.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，您将学习如何连接到 SQL Server，然后在网页中显示数据库表中的记录。
