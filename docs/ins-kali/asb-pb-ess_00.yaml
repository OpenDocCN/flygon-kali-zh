- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: With the evolution of cloud computing, agile development methodologies, and
    explosion of data in recent years, there is a growing need to manage infrastructure
    at scale. DevOps tools and practices have become a necessity to automate every
    stage of such a scalable, dynamic, and complex infrastructure. Configuration management
    tools are at the core of this devops tool set.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 随着云计算、敏捷开发方法论的发展以及近年来数据的爆炸式增长，管理大规模基础设施的需求日益增长。DevOps工具和实践已经成为自动化可扩展、动态和复杂基础设施的每个阶段的必要性。配置管理工具是DevOps工具集的核心。
- en: Ansible is a simple, efficient, fast configuration management, orchestration
    and application deployment tool all combined into one. This book helps you to
    get familiar with writing Playbooks, Ansible's automation language. This book
    follows a hands-on approach to show you how to create flexible, dynamic, reusable,
    and data-driven roles. It then takes you through the advanced features of Ansible,
    such as node discovery, clustering, securing data with vault, and managing environments,
    and finally shows you how to use Ansible to orchestrate multitier infrastructure
    stack.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Ansible是一个简单、高效、快速的配置管理、编排和应用部署工具，集成了所有功能。本书将帮助您熟悉编写Playbooks，Ansible的自动化语言。本书采用实践方法，向您展示如何创建灵活、动态、可重用和数据驱动的角色。然后，它将带您了解Ansible的高级功能，如节点发现、集群化、使用vault保护数据以及管理环境，最后向您展示如何使用Ansible编排多层基础设施堆栈。
- en: What this book covers
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书内容
- en: '[Chapter 1](ch01.html "Chapter 1. Blueprinting Your Infrastructure"), *Blueprinting
    Your Infrastructure*, will introduced you to Playbooks, YAML, and so on. You will
    also learn about the components of a playbook.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章，*蓝图您的基础设施*，将向您介绍Playbooks、YAML等内容。您还将了解Playbook的组件。
- en: '[Chapter 2](ch02.html "Chapter 2. Going Modular with Ansible Roles"), *Going
    Modular with Ansible Roles*, will demonstrate creating modular reusable automation
    code using Ansible roles, which are units of automation.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章，*使用Ansible角色进行模块化*，将演示如何使用Ansible角色创建可重用的模块化自动化代码，这些角色是自动化的单元。
- en: '[Chapter 3](ch03.html "Chapter 3. Separating Code and Data – Variables, Facts,
    and Templates"), *Separating Code and Data – Variables, Facts, and Templates*,
    covers the creation of flexible, customizable, data-driven roles with templates
    and variables. You will also learn about auto-discovered variables, that is, facts.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章，*分离代码和数据-变量、事实和模板*，涵盖了使用模板和变量创建灵活、可定制、数据驱动的角色。您还将了解自动发现的变量，即事实。
- en: '[Chapter 4](ch04.html "Chapter 4. Bringing In Your Code – Custom Commands and
    Scripts"), *Bringing In Your Code – Custom Commands and Scripts*, covers bringing
    in your existing scripts and invoking Shell commands with Ansible.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章，*引入您的代码-自定义命令和脚本*，涵盖了引入现有脚本并使用Ansible调用Shell命令。
- en: '[Chapter 5](ch05.html "Chapter 5. Controlling Execution Flow – Conditionals"),
    *Controlling Execution Flow – Conditionals*, discusses the control structures
    offered by Ansible to change the direction of execution.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章，*控制执行流程-条件*，讨论了Ansible提供的控制结构，以改变执行方向。
- en: '[Chapter 6](ch06.html "Chapter 6. Iterative Control Structures – Loops"), *Iterative
    Control Structures – Loops*, demonstrates how to iterate over arrays, hashes,
    and so on, using omnipotent with statements.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，*迭代控制结构-循环*，演示了如何使用强大的with语句对数组、哈希等进行迭代。
- en: '[Chapter 7](ch07.html "Chapter 7. Node Discovery and Clustering"), *Node Discovery
    and Clustering*, discusses the discovery of topology information and creates dynamic
    configurations using magic variables and facts caching.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章. 节点发现和集群"), *节点发现和集群*，讨论了拓扑信息的发现，并使用魔术变量和事实缓存创建动态配置。'
- en: '[Chapter 8](ch08.html "Chapter 8. Encrypting Data with Vault"), *Encrypting
    Data with Vault*, discusses secure variables stored in, and shared with, version
    control systems using Ansible-vault.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章. 使用Vault加密数据"), *使用Vault加密数据*，讨论了使用Ansible-vault在版本控制系统中存储和共享安全变量。'
- en: '[Chapter 9](ch09.html "Chapter 9. Managing Environments"), *Managing Environments*,
    covers the creation and management of isolated environments with Ansible and mapping
    automation code to the software development workflow.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ch09.html "第9章. 管理环境"), *管理环境*，涵盖了使用Ansible创建和管理隔离环境，并将自动化代码映射到软件开发工作流程中。'
- en: '[Chapter 10](ch10.html "Chapter 10. Orchestrating Infrastructure with Ansible"),
    *Orchestrating Infrastructure with Ansible*, covers the orchestration features
    of Ansible, such as rolling updates, pre-tasks and post-tasks, tags, building
    tests into the playbook, and so on.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](ch10.html "第10章. 使用Ansible编排基础设施"), *使用Ansible编排基础设施*，涵盖了Ansible的编排功能，如滚动更新、预任务和后任务、标签、将测试构建到playbook中等。'
- en: What you need for this book
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书所需内容
- en: This book assumes that you have a working installation of Ansible and a good
    knowledge of Linux/Unix environments and systems operations, and that you are
    familiar working with the command-line interface.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设您已经安装了Ansible，并对Linux/Unix环境和系统操作有很好的了解，并且熟悉使用命令行界面。
- en: Who this book is for
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书的受众
- en: The target audience for this book are systems or automation engineers with a
    few years of experience in managing various parts of infrastructure, including
    operating systems, application configurations, and deployments. This book also
    targets anyone who intends to manage systems and application configurations effectively
    and in an automated way, with the shortest learning curve.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目标读者是具有几年基础设施管理经验的系统或自动化工程师，包括操作系统、应用程序配置和部署。本书还针对任何打算以最短的学习曲线有效自动化管理系统和应用程序配置的人。
- en: It is assumed that readers have a conceptual understanding of Ansible, have
    already installed it and are familiar with basic operations such as creating inventory
    file and running ad hoc commands with Ansible.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 假设读者对Ansible有概念性的理解，已经安装并熟悉基本操作，比如创建清单文件和使用Ansible运行临时命令。
- en: Conventions
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of styles of text that distinguish between
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您会发现一些区分不同信息类型的文本样式。以下是一些这些样式的例子，以及它们的含义解释。
- en: 'Code words in text are shown as follows: "We can include other contexts through
    the use of the `include` directive."'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '文本中的代码词如下所示: "我们可以通过使用`include`指令包含其他上下文。"'
- en: 'A block of code is set as follows:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '代码块设置如下:'
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '任何命令行输入或输出都以以下形式书写:'
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "The resultant variable hash should contain items from **defaults** plus the overridden
    values from **vars**".'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要单词**以粗体显示。您在屏幕上看到的单词，比如菜单或对话框中的单词，会以这样的方式出现在文本中: "结果变量哈希应该包含**defaults**中的项目，以及**vars**中的覆盖值"。'
- en: Note
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示以这样的方式出现在一个框中。
- en: Tip
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧会显示在这样。
