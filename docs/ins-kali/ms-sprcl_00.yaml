- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Developing, deploying, and operating cloud applications should be as easy as
    local applications. This should be the governing principle behind any cloud platform,
    library, or tool. Spring Cloud makes it easy to develop JVM applications for the
    cloud. In this book, we introduce you to Spring Cloud and help you master its
    features.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 开发、部署和操作云应用程序应该像本地应用程序一样简单。这应该是任何云平台、库或工具背后的主导原则。Spring Cloud使得为云开发JVM应用程序变得简单。在本书中，我们向您介绍Spring
    Cloud，并帮助您掌握其功能。
- en: You will learn to configure the Spring Cloud server and run the Eureka server
    to enable service registration and discovery. Then you will learn about techniques
    related to load balancing and circuit breaking and utilize all the features of
    the Feign client. We then dive into advanced topics where you will learn to implement
    distributed tracing solutions for Spring Cloud and build message-driven microservice
    architectures.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 您将学习如何配置Spring Cloud服务器并运行Eureka服务器以启用服务注册和发现。然后，您将了解与负载平衡和断路器相关的技术，并利用Feign客户端的所有功能。然后，我们将深入研究高级主题，您将学习为Spring
    Cloud实现分布式跟踪解决方案，并构建基于消息驱动的微服务架构。
- en: Who this book is for
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: This book appeals to developers keen to take advantage of Spring Cloud, an open
    source library which helps developers quickly build distributed systems. Knowledge
    of Java and Spring Framework will be helpful, but no prior exposure to Spring
    Cloud is required.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书适合希望利用Spring Cloud的开发人员，这是一个帮助开发人员快速构建分布式系统的开源库。了解Java和Spring Framework将有所帮助，但不需要先前接触Spring
    Cloud。
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](33ddbb93-e658-4d91-97f5-06d6167ef89e.xhtml), *Introduction to Microservices*,
    will introduce you to the microservices architecture, cloud environment, etc.
    You will learn the difference between a microservice based application and a monolith
    application while also learning how to migrate to a microservices application.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章《微服务简介》将向您介绍微服务架构、云环境等。您将学习基于微服务的应用程序和单体应用程序之间的区别，同时还将学习如何迁移到微服务应用程序。
- en: '[Chapter 2](f4d51f21-614d-4a49-a288-43eb50c279e0.xhtml), *Spring for Microservices*,
    will introduce you Spring Boot framework. You will learn how to effictively use
    it to create microservice application.  We will cover such topics like creating
    REST API using Spring MVC annotations, providing API documentation using Swagger2,
    and exposing health checks and metrics using Spring Boot Actuator endpoints.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章《微服务的Spring》将向您介绍Spring Boot框架。您将学习如何有效地使用它来创建微服务应用程序。我们将涵盖诸如使用Spring MVC注解创建REST
    API、使用Swagger2提供API文档以及使用Spring Boot执行器端点公开健康检查和指标等主题。
- en: '[Chapter 3](5e461bca-a37d-4f72-b58f-5f14694d055f.xhtml), *Spring Cloud Overview*,
    will provide a short description of the main projects being a part of Spring Cloud.
    It will focus on describing the main patterns implemented by Spring Cloud and
    assigning them to the particular projects.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章《Spring Cloud概述》将简要介绍Spring Cloud的主要项目，并重点描述Spring Cloud实现的主要模式，并将其分配给特定项目。
- en: '[Chapter 4](b016b615-1eed-457a-9b9c-66ba07c9ce9e.xhtml), *Service Discovery*,
    will describe a service discovery pattern with Spring Cloud Netflix Eureka. You
    will learn how to run Eureka server in standalone mode and how to run multiple
    server instances with peer-to-peer replication. You will also learn how to enable
    discovery on the client side and register these clients in different zones.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章《服务发现》将描述使用Spring Cloud Netflix Eureka的服务发现模式。您将学习如何在独立模式下运行Eureka服务器，以及如何运行多个服务器实例进行点对点复制。您还将学习如何在客户端启用发现，并在不同区域注册这些客户端。
- en: '[Chapter 5](37142825-02d0-48a0-99df-1a1a88a1bbd4.xhtml), *Distributed Configuration
    with Spring Cloud Config*, will describe how use distributed configuration with
    Spring Cloud Config in your applications. You will learn how to enable different
    backend repositories of property sources and push change notifications using Spring
    Cloud Bus. We will compare discovery first bootstrap and config first bootstrap
    approaches to illustrate integration between discovery service and configuration
    server.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章《Spring Cloud Config的分布式配置》将描述如何在应用程序中使用Spring Cloud Config进行分布式配置。您将学习如何启用不同的属性源后端存储库，并使用Spring
    Cloud Bus推送更改通知。我们将比较首先发现引导和首先配置引导方法，以说明发现服务和配置服务器之间的集成。
- en: '[Chapter 6](1a5d14e0-a405-47d3-a554-2b9b06ee0e5f.xhtml), *Communication Between
    Microservices*, will describe the most important elements taking a part in an
    inter-service communication: HTTP clients and load balancers. You will learn how
    to use Spring RestTemplate, Ribbon, and Feign clients with or without service
    discovery.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章《微服务之间的通信》将描述参与服务间通信的最重要元素：HTTP客户端和负载均衡器。您将学习如何使用Spring RestTemplate、Ribbon和Feign客户端，无论是否使用服务发现。
- en: '[Chapter 7](2ddad83c-3c9c-414d-a4f3-2d3856c0c5ed.xhtml), *Advanced Load Balancing
    and Circuit Breakers*, will described more advanced topics related to inter-service
    communication between microservices. You will learn how to implement different
    load balancing algorithms with Ribbon client, enabling circuit breaker pattern
    using Hystrix and using Hystrix dashboard to monitor communication statistics.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章《高级负载平衡和断路器》将描述与微服务之间的服务间通信相关的更高级主题。您将学习如何使用Ribbon客户端实现不同的负载平衡算法，使用Hystrix实现断路器模式，并使用Hystrix仪表板监视通信统计信息。
- en: '[Chapter 8](53e15517-d6f7-4337-be68-6d4f6d800b91.xhtml), *Routing and Filtering
    with API Gateway*, will compare two projects used as an API gateway and proxy
    for Spring Cloud applications: Spring Cloud Netlix Zuul and Spring Cloud Gateway.
    You will learn how to integrate them with service discovery and create simple
    and more advanced routing and filtering rules.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](53e15517-d6f7-4337-be68-6d4f6d800b91.xhtml)，*API网关的路由和过滤*，将比较两个用作Spring
    Cloud应用程序的API网关和代理的项目：Spring Cloud Netlix Zuul和Spring Cloud Gateway。您将学习如何将它们与服务发现集成，并创建简单和更高级的路由和过滤规则。'
- en: '[Chapter 9](a84b38a5-4a2f-4e4b-a7fe-6396a2864021.xhtml), *Distributed Logging
    and Tracing*, will introduce some popular tools for collecting and analizing logging
    and tracing information generated by microservices. You will learn how to use
    Spring Cloud Sleuth to append tracing information and correlating messages. We
    will run sample applications that integrates with Elastic Stack in order to sent
    there log messages, and Zipkin to collect traces.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](a84b38a5-4a2f-4e4b-a7fe-6396a2864021.xhtml)，*分布式日志和跟踪*，将介绍一些用于收集和分析微服务生成的日志和跟踪信息的流行工具。您将学习如何使用Spring
    Cloud Sleuth来附加跟踪信息和相关消息。我们将运行集成了Elastic Stack的示例应用程序，以将日志消息发送到那里，并使用Zipkin来收集跟踪信息。'
- en: '[Chapter 10](9e096a27-4c3f-4020-8f5c-cc16213e82c6.xhtml), *Additional Configuration
    and Discovery Features*, will introduce two popular products used for service
    discovery and distributed configuration: Consul and ZooKeeper. You will learn
    how to run these tools locally, and intergrate your Spring Cloud applications
    with them.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](9e096a27-4c3f-4020-8f5c-cc16213e82c6.xhtml)，*附加配置和发现功能*，将介绍用于服务发现和分布式配置的两种流行产品：Consul和ZooKeeper。您将学习如何在本地运行这些工具，并将您的Spring
    Cloud应用程序与它们集成。'
- en: '[Chapter 11](554c4049-1dc9-430d-8fe7-19f3b9ac99a3.xhtml), *Message-Driven Microservices*,
    will guide you how to provide asynchronous, message-driven communication between
    your microservices. You will learn how to integrate RabbitMQ and Apache Kafka
    message brokers with your Spring Cloud application to enable asynchronous one-to-one
    and publish/subscribe communication styles.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](554c4049-1dc9-430d-8fe7-19f3b9ac99a3.xhtml)，*消息驱动的微服务*，将指导您如何在微服务之间提供异步、消息驱动的通信。您将学习如何将RabbitMQ和Apache
    Kafka消息代理与您的Spring Cloud应用程序集成，以实现异步的一对一和发布/订阅通信样式。'
- en: '[Chapter 12](b7e73d3e-b31b-4127-bb1a-54f527ac98a8.xhtml), *Securing an API*,
    will describe varius ways of securing your microservices. We will implement a
    system consisting of all previously introduced elements, that communicates with
    each other over SSL. You will also learn how to use OAuth2 and JWT token to authorize
    requests coming to your API.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第12章](b7e73d3e-b31b-4127-bb1a-54f527ac98a8.xhtml)，*保护API*，将描述保护微服务的各种方法。我们将实现一个由先前介绍的所有元素组成的系统，这些元素通过SSL相互通信。您还将学习如何使用OAuth2和JWT令牌来授权发送到您的API的请求。'
- en: '[Chapter 13](8df3f1bf-de48-4a16-9270-fcb88368bbfc.xhtml), *Testing Java Microservices*,
    will describe different strategies of microservices testing. It will focus on
    showing consumer-driven contract tests, especially useful in microservice-based
    environment. You will how to use such frameworks like Hoverfly, Pact, Spring Cloud
    Contract, Gatling for implemnting different types of automated tests.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[第13章](8df3f1bf-de48-4a16-9270-fcb88368bbfc.xhtml)，*测试Java微服务*，将描述微服务测试的不同策略。它将重点介绍消费者驱动的合同测试，在基于微服务的环境中特别有用。您将学习如何使用诸如Hoverfly、Pact、Spring
    Cloud Contract、Gatling等框架来实现不同类型的自动化测试。'
- en: '[Chapter 14](0756243e-39c9-4696-8d79-4175e7cf4c48.xhtml), *Docker Support*,
    will provide a short introduction to Docker. It will focus on describing most
    commonly used Docker commands, which are used for running and monitoring microservices
    in containerized environment. You will also learn how to build and run containers
    using popular continuous integration server - Jenkins, and deploy them on Kubernetes
    platform.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[第14章](0756243e-39c9-4696-8d79-4175e7cf4c48.xhtml)，*Docker支持*，将简要介绍Docker。它将重点介绍最常用的Docker命令，用于在容器化环境中运行和监视微服务。您还将学习如何使用流行的持续集成服务器Jenkins构建和运行容器，并将它们部署在Kubernetes平台上。'
- en: '[Chapter 15](e14936a4-fb62-4459-84ff-bfc265b4677e.xhtml), *Spring Microservices
    on Cloud Platforms*, will introduce two popular cloud platforms that support Java
    applications: Pivotal Cloud Foundry and Heroku. You will learn how to deploy,
    start, scale and monitor your applications on these platforms using command-line
    tools or web console.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[第15章](e14936a4-fb62-4459-84ff-bfc265b4677e.xhtml)，*云平台上的Spring微服务*，将介绍支持Java应用程序的两个流行云平台：Pivotal
    Cloud Foundry和Heroku。您将学习如何使用命令行工具或Web控制台在这些平台上部署、启动、扩展和监视您的应用程序。'
- en: To get the most out of this book
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用本书
- en: 'In order to successfully read through this book and work out all the code samples,
    we expect readers to fulfill the following requirements:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 为了成功阅读本书并完成所有代码示例，我们希望读者满足以下要求：
- en: An active internet connection
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 活动的互联网连接
- en: Java 8+
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Java 8+
- en: Docker
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Docker
- en: Maven
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Maven
- en: Git client
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Git客户端
- en: Download the example code files
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from your account at [www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[www.packtpub.com](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便直接通过电子邮件接收文件。
- en: 'You can download the code files by following these steps:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按照以下步骤下载代码文件：
- en: Log in or register at [www.packtpub.com](http://www.packtpub.com/support).
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[www.packtpub.com](http://www.packtpub.com/support)登录或注册。
- en: Select the SUPPORT tab.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“支持”选项卡。
- en: Click on Code Downloads & Errata.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“代码下载和勘误”。
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索框中输入书名，按照屏幕上的说明操作。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 下载文件后，请确保使用最新版本的解压或提取文件夹：
- en: WinRAR/7-Zip for Windows
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WinRAR/7-Zip for Windows
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zipeg/iZip/UnRarX for Mac
- en: 7-Zip/PeaZip for Linux
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7-Zip/PeaZip for Linux
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Mastering-Spring-Cloud](https://github.com/PacktPublishing/Mastering-Spring-Cloud).
    We also have other code bundles from our rich catalog of books and videos available
    at **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 该书的代码包还托管在GitHub上[https://github.com/PacktPublishing/Mastering-Spring-Cloud](https://github.com/PacktPublishing/Mastering-Spring-Cloud)。
    我们还有来自丰富书籍和视频目录的其他代码包可在**[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**上找到。
    快去看看吧！
- en: Conventions used
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了许多文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    Here is an example: "The last available version of the HTTP API endpoint, `http://localhost:8889/client-service-zone3.yml`,
    returns data identical to the input file."'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码词，数据库表名，文件夹名，文件名，文件扩展名，路径名，虚拟URL，用户输入和Twitter句柄。 例如：“HTTP
    API端点的最后一个可用版本，`http://localhost:8889/client-service-zone3.yml`，返回与输入文件相同的数据。”'
- en: 'A block of code is set as follows:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都将按以下方式编写：
- en: '[PRE2]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this. Here
    is an example: "In Google Chrome, you can import a PKCS12 keystore by going to
    section Settings *|* Show advanced settings... | HTTPS/SSL *|* Manage certificates."'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**Bold**：表示新术语，重要单词或屏幕上看到的单词。 例如，菜单或对话框中的单词会以这种方式出现在文本中。 例如：“在Google Chrome中，您可以通过转到“设置”*|*“显示高级设置...”*|*“HTTPS/SSL”*|*“管理证书”来导入PKCS12密钥库。”'
- en: Warnings or important notes appear like this.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会以这种方式出现。
- en: Tips and tricks appear like this.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧会以这种方式出现。
- en: Get in touch
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
