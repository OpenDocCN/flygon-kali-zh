["```\n 1  cd k8s-specs\n 2\n 3  git pull\n```", "```\n 1  helm inspect values stable/grafana\n```", "```\n 1  cat mon/grafana-values-bare.yml\n```", "```\ningress:\n  enabled: true\npersistence:\n  enabled: true\n  accessModes:\n  - ReadWriteOnce\n  size: 1Gi\nresources:\n  limits:\n    cpu: 20m\n    memory: 50Mi\n  requests:\n    cpu: 5m\n    memory: 25Mi\n```", "```\n 1  GRAFANA_ADDR=\"grafana.$LB_IP.nip.io\"\n 2    \n 3  helm install stable/grafana \\\n 4      --name grafana \\\n 5      --namespace metrics \\\n 6      --version 1.17.5 \\\n 7      --set ingress.hosts=\"{$GRAFANA_ADDR}\" \\\n 8      --values mon/grafana-values-bare.yml\n 9\n10  kubectl -n metrics \\\n11      rollout status deployment grafana\n```", "```\n 1  open \"http://$GRAFANA_ADDR\"\n```", "```\n 1  kubectl -n metrics \\\n 2      get secret grafana \\\n 3      -o jsonpath=\"{.data.admin-password}\" \\\n 4      | base64 --decode; echo\n```", "```\n 1  open \"https://grafana.com/dashboards\"\n```", "```\n 1  sum (\n 2      container_fs_usage_bytes{\n 3          device=~\"^/dev/xvda.$\",\n 4          id=\"/\",\n 5          kubernetes_io_hostname=~\"^$Node$\"\n 6      }\n 7  ) / \n 8  sum (\n 9      container_fs_limit_bytes{\n10          device=~\"^/dev/xvda.$\",\n11          id=\"/\",\n12          kubernetes_io_hostname=~\"^$Node$\"\n13      }\n14  ) * 100\n```", "```\n 1  open\n    \"http://docs.grafana.org/features/datasources/prometheus/#query-variable\"\n```", "```\n 1  Name:  cpuReqPercentMin\n 2  Type:  Constant\n 3  Label: Min % of requested CPU\n 4  Hide:  Variable\n 5  Value: 50\n 6\n 7  Name:  cpuReqPercentMax\n 8  Type:  Constant\n 9  Label: Max % of requested CPU\n10  Hide:  Variable\n11  Value: 150\n```", "```\n 1  The percentage of actual CPU usage compared to reserved. The\n    calculation excludes Pods with reserved CPU equal to or smaller than\n    $minCpu. Those with less than $minCpu of requested CPU are ignored.\n```", "```\n 1  sum(label_join(\n 2      rate(\n 3          container_cpu_usage_seconds_total{\n 4              namespace!=\"kube-system\",\n 5              pod_name!=\"\"\n 6          }[5m]\n 7      ),\n 8      \"pod\",\n 9      \",\",\n10      \"pod_name\"\n11  )) by (pod) /\n12  sum(\n13      kube_pod_container_resource_requests_cpu_cores{\n14          namespace!=\"kube-system\",\n15          namespace!=\"ingress-nginx\"\n16      }\n17  ) by (pod) and \n18  sum(\n19      kube_pod_container_resource_requests_cpu_cores{\n20          namespace!=\"kube-system\",\n21          namespace!=\"ingress-nginx\"\n22      }\n23  ) by (pod) > $minCpu\n```", "```\n 1  The number of Pods with less than $cpuReqPercentMin% or more than\n    $cpuReqPercentMax% actual compared to reserved CPU\n```", "```\n 1  sum(\n 2      (\n 3          sum(\n 4              label_join(\n 5                  rate(container_cpu_usage_seconds_total{\n 6                      namespace!=\"kube-system\",\n 7                      pod_name!=\"\"}[5m]),\n 8                      \"pod\",\n 9                      \",\",\n10                      \"pod_name\"\n11              )\n12          ) by (pod) /\n13          sum(\n14              kube_pod_container_resource_requests_cpu_cores{\n15                  namespace!=\"kube-system\",\n16                  namespace!=\"ingress-nginx\"\n17              }\n18          ) by (pod) and\n19          sum(\n20              kube_pod_container_resource_requests_cpu_cores{\n21                  namespace!=\"kube-system\",\n22                  namespace!=\"ingress-nginx\"\n23              }\n24          ) by (pod) > $minCpu\n25      ) < bool ($cpuReqPercentMin / 100)\n26  ) +\n27  sum(\n28      (\n29          sum(\n30              label_join(\n31                  rate(\n32                      container_cpu_usage_seconds_total{\n33                          namespace!=\"kube-system\",\n34                          pod_name!=\"\"\n35                      }[5m]\n36                  ),\n37                  \"pod\",\n38                  \",\",\n39                  \"pod_name\"\n40              )\n41          ) by (pod) /\n42          sum(\n43              kube_pod_container_resource_requests_cpu_cores{\n44                  namespace!=\"kube-system\",\n45                  namespace!=\"ingress-nginx\"\n46              }\n47          ) by (pod) and\n48          sum(\n49              kube_pod_container_resource_requests_cpu_cores{\n50                  namespace!=\"kube-system\",\n51                  namespace!=\"ingress-nginx\"\n52              }\n53          ) by (pod) > $minCpu\n54      ) > bool ($cpuReqPercentMax / 100)\n55  )\n```", "```\n 1  helm delete grafana --purge\n```"]