["```\n$ docker swarm --help\n```", "```\n$ docker-machine create \\\n -d virtualbox \\\n swarm-manager \n```", "```\n(swarm-manager) Creating VirtualBox VM...\n(swarm-manager) Starting the VM...\n(swarm-manager) Check network to re-create if needed...\n(swarm-manager) Waiting for an IP...\nWaiting for machine to be running, this may take a few minutes...\nChecking connection to Docker...\nDocker is up and running!\nTo see how to connect your Docker Client to the Docker Engine running on this virtual machine, run: docker-machine env swarm-manager\n```", "```\n$ docker-machine ls\n```", "```\n$ docker-machine env swarm-manager\n```", "```\nexport DOCKER_TLS_VERIFY=\"1\"\nexport DOCKER_HOST=\"tcp://192.168.99.100:2376\"\nexport DOCKER_CERT_PATH=\"/Users/russ/.docker/machine/machines/swarm-manager\"\nexport DOCKER_MACHINE_NAME=\"swarm-manager\"\n# Run this command to configure your shell:\n# eval $(docker-machine env swarm-manager)\n```", "```\n$ eval $(docker-machine env swarm-manager)\n```", "```\n$ docker-machine ls\n```", "```\n$ docker-machine create \\\n -d virtualbox \\\n swarm-worker01\n$ docker-machine create \\\n -d virtualbox \\\n swarm-worker02\n```", "```\n$ docker-machine ls\n```", "```\n$ docker $(docker-machine config swarm-manager) swarm init \\\n --advertise-addr $(docker-machine ip swarm-manager):2377 \\\n --listen-addr $(docker-machine ip swarm-manager):2377\n```", "```\nSwarm initialized: current node (uxgvqhw6npr9glhp0zpabn4ha) is now a manager.\n\nTo add a worker to this swarm, run the following command:\n\n docker swarm join --token SWMTKN-1-1uulmpx4j4hub2qmd8q2ozxmonzcehxcomt7cw92xarg3yrkx2-dfiqnfisl75bwwh8yk9pv3msh 192.168.99.100:2377\n\nTo add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.\n```", "```\n$ SWARM_TOKEN=SWMTKN-1-1uulmpx4j4hub2qmd8q2ozxmonzcehxcomt7cw92xarg3yrkx2-dfiqnfisl75bwwh8yk9pv3msh\n```", "```\n$ docker $(docker-machine config swarm-worker01) swarm join \\\n --token $SWARM_TOKEN \\\n $(docker-machine ip swarm-manager):2377\n```", "```\n$ docker $(docker-machine config swarm-worker02) swarm join \\\n --token $SWARM_TOKEN \\\n $(docker-machine ip swarm-manager):2377\n```", "```\nThis node joined a swarm as a worker.\n```", "```\n$ docker-machine ls\n```", "```\n$ eval $(docker-machine env swarm-manager)\n```", "```\n$ docker node ls\n```", "```\n$ docker info\n```", "```\nContainers: 0\n Running: 0\n Paused: 0\n Stopped: 0\nImages: 0\nPlugins:\n Volume: local\n Network: bridge host macvlan null overlay\n Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog\nSwarm: active\n NodeID: uxgvqhw6npr9glhp0zpabn4ha\n Is Manager: true\n ClusterID: pavj3f2ym8u1u1ul5epr3c73f\n Managers: 1\n Nodes: 3\n Orchestration:\n Task History Retention Limit: 5\n Raft:\n Snapshot Interval: 10000\n Number of Old Snapshots to Retain: 0\n Heartbeat Tick: 1\n Election Tick: 10\n Dispatcher:\n Heartbeat Period: 5 seconds\n CA Configuration:\n Expiry Duration: 3 months\n Force Rotate: 0\n Autolock Managers: false\n Root Rotation In Progress: false\n Node Address: 192.168.99.100\n Manager Addresses:\n 192.168.99.100:2377\nRuntimes: runc\nDefault Runtime: runc\nInit Binary: docker-init\ncontainerd version: 468a545b9edcd5932818eb9de8e72413e616e86e\nrunc version: 69663f0bd4b60df09991c08812a60108003fa340\ninit version: fec3683\nKernel Version: 4.9.93-boot2docker\nOperating System: Boot2Docker 18.06.1-ce (TCL 8.2.1); HEAD : c7e5c3e - Wed Aug 22 16:27:42 UTC 2018\nOSType: linux\nArchitecture: x86_64\nCPUs: 1\nTotal Memory: 995.6MiB\nName: swarm-manager\nID: NRV7:WAFE:FWDS:63PT:UMZY:G3KU:OU2A:RWRN:RC7D:5ESI:NWRN:NZRU\n```", "```\n$ docker node inspect swarm-manager --pretty\n```", "```\nID: uxgvqhw6npr9glhp0zpabn4ha\nHostname: swarm-manager\nJoined at: 2018-09-15 12:14:59.663920111 +0000 utc\nStatus:\n State: Ready\n Availability: Active\n Address: 192.168.99.100\nManager Status:\n Address: 192.168.99.100:2377\n Raft Status: Reachable\n Leader: Yes\nPlatform:\n Operating System: linux\n Architecture: x86_64\nResources:\n CPUs: 1\n Memory: 995.6MiB\nPlugins:\n Log: awslogs, fluentd, gcplogs, gelf, journald, json-file, logentries, splunk, syslog\n Network: bridge, host, macvlan, null, overlay\n Volume: local\nEngine Version: 18.06.1-ce\nEngine Labels:\n - provider=virtualbox\n```", "```\n$ docker node inspect swarm-worker01 --pretty\n```", "```\nID: yhqj03rkfzurb4aqzk7duidf4\nHostname: swarm-worker01\nJoined at: 2018-09-15 12:24:09.02346782 +0000 utc\nStatus:\n State: Ready\n Availability: Active\n Address: 192.168.99.101\nPlatform:\n Operating System: linux\n Architecture: x86_64\nResources:\n CPUs: 1\n Memory: 995.6MiB\nPlugins:\n Log: awslogs, fluentd, gcplogs, gelf, journald, json-file, logentries, splunk, syslog\n Network: bridge, host, macvlan, null, overlay\n Volume: local\nEngine Version: 18.06.1-ce\nEngine Labels:\n - provider=virtualbox\n```", "```\n$ docker node promote swarm-worker01\n```", "```\nNode swarm-worker01 promoted to a manager in the swarm.\n```", "```\n$ docker node ls\n```", "```\n$ docker node demote swarm-manager\n```", "```\nManager swarm-manager demoted in the swarm.\n```", "```\n$ docker node ls\n```", "```\nError response from daemon: This node is not a swarm manager. Worker nodes can't be used to view or modify cluster state. Please run this command on a manager node or promote the current node to a manager.\n```", "```\n$ eval $(docker-machine env swarm-worker01)\n```", "```\n$ docker node ls\n```", "```\n$ docker node update --availability drain swarm-manager\n```", "```\n$ docker-machine ssh swarm-manager\n$ sudo reboot\n```", "```\n$ docker node ls\n```", "```\n$ docker node update --availability active swarm-manager\n```", "```\n$ docker swarm <command>\n$ docker node <command>\n```", "```\n$ docker service <command>\n$ docker stack <command>\n```", "```\n$ docker service create \\\n --name cluster \\\n --constraint \"node.role == worker\" \\\n -p:80:80/tcp \\\n russmckendrick/cluster\n```", "```\n$ docker node ls\n```", "```\n$ docker-machine ls\n```", "```\n$ docker service ls\n```", "```\n$ docker service inspect cluster --pretty\n```", "```\n$ docker node ps\n$ docker node ps swarm-manager\n$ docker node ps swarm-worker02\n```", "```\n$ docker service scale cluster=6\n$ docker service ls\n$ docker node ps swarm-manager\n$ docker node ps swarm-worker02\n```", "```\n$ docker service rm cluster\n```", "```\nversion: \"3\"\nservices:\n cluster:\n image: russmckendrick/cluster\n ports:\n - \"80:80\"\n deploy:\n replicas: 6\n restart_policy:\n condition: on-failure\n placement:\n constraints:\n - node.role == worker\n```", "```\n$ docker stack deploy --compose-file=docker-compose.yml cluster\n```", "```\n$ docker stack ls\n```", "```\n$ docker stack services cluster\n```", "```\n$ docker stack ps cluster\n```", "```\n$ docker stack rm cluster\n```", "```\n$ docker-machine rm swarm-manager swarm-worker01 swarm-worker02\n```"]