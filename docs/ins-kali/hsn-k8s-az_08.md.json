["```\n    helm repo add stable https://kubernetes-charts.storage.googleapis.com/ \n    helm install ingress stable/nginx-ingress\n    ```", "```\n    kubectl get service \n    ```", "```\nkubectl create -f guestbook-all-in-one.yaml\n```", "```\n1\u00a0\u00a0\u00a0apiVersion: extensions/v1beta1\n2\u00a0\u00a0\u00a0kind: Ingress\n3\u00a0\u00a0\u00a0metadata:\n4\u00a0\u00a0\u00a0\u00a0\u00a0name: simple-frontend-ingress\n5\u00a0\u00a0\u00a0spec:\n6\u00a0\u00a0\u00a0\u00a0\u00a0rules:\n7\u00a0\u00a0\u00a0\u00a0\u00a0- http:\n8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paths:\n9\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- path: /\n10\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0backend:\n11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serviceName: frontend\n12\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0servicePort: 80\n```", "```\nkubectl apply -f simple-frontend-ingress.yaml \n```", "```\nkubectl get svc\n```", "```\nkubectl create ns cert-manager\nhelm repo add jetstack https://charts.jetstack.io\nhelm install cert-manager --namespace cert-manager jetstack/cert-manager\n```", "```\n    kubectl get service\n    ```", "```\n1\u00a0\u00a0\u00a0apiVersion: cert-manager.io/v1alpha2\n2\u00a0\u00a0\u00a0kind: Issuer\n3\u00a0\u00a0\u00a0metadata:\n4\u00a0\u00a0\u00a0\u00a0\u00a0name: letsencrypt-staging\n5\u00a0\u00a0\u00a0spec:\n6\u00a0\u00a0\u00a0\u00a0\u00a0acme:\n7\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0server: https://acme-staging-v02.api.letsencrypt.org/directory\n8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0email: <your e-mailaddress>\n9\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0privateKeySecretRef:\n10\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name: letsencrypt-staging\n11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0solvers:\n12\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- http01:\n13\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ingress:\n14\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0class: nginx\n```", "```\n1\u00a0\u00a0\u00a0apiVersion: extensions/v1beta1\n2\u00a0\u00a0\u00a0kind: Ingress\n3\u00a0\u00a0\u00a0metadata:\n4\u00a0\u00a0\u00a0\u00a0\u00a0name: simple-frontend-ingress\n5\u00a0\u00a0\u00a0\u00a0\u00a0annotations:\n6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert-manager.io/issuer: \"letsencrypt-staging\"\n7\u00a0\u00a0\u00a0spec:\n8\u00a0\u00a0\u00a0\u00a0\u00a0tls:\n9\u00a0\u00a0\u00a0\u00a0\u00a0- hosts:\n10\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- <your DNS prefix>.<your azure region>.cloudapp.azure.com\n11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0secretName: frontend-tls\n12\u00a0\u00a0\u00a0\u00a0rules:\n13\u00a0\u00a0\u00a0\u00a0- host: <your DNS prefix>.<your Azure location>.cloudapp.azure.com\n14\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0http:\n15\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paths:\n16\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- path: /\n17\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0backend:\n18\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serviceName: frontend\n19\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0servicePort: 80\n```", "```\nkubectl apply -f ingress-with-tls.yaml\n```", "```\nkubectl get certificate\n```", "```\nkubectl get certificaterequest\n```", "```\nkubectl describe certificaterequest\n```", "```\n1\u00a0\u00a0\u00a0apiVersion: cert-manager.io/v1alpha2\n2\u00a0\u00a0\u00a0kind: Issuer\n3\u00a0\u00a0\u00a0metadata:\n4\u00a0\u00a0\u00a0\u00a0\u00a0name: letsencrypt-prod\n5\u00a0\u00a0\u00a0spec:\n6\u00a0\u00a0\u00a0\u00a0\u00a0acme:\n7\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0server: https://acme-v02.api.letsencrypt.org/directory\n8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0email: <your e-mail>\n9\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0privateKeySecretRef:\n10\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name: letsencrypt-staging\n11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0solvers:\n12\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- http01:\n13\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ingress:\n14\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0class: nginx\n```", "```\n1\u00a0\u00a0\u00a0apiVersion: extensions/v1beta1\n2\u00a0\u00a0\u00a0kind: Ingress\n3\u00a0\u00a0\u00a0metadata:\n4\u00a0\u00a0\u00a0\u00a0\u00a0name: simple-frontend-ingress\n5\u00a0\u00a0\u00a0\u00a0\u00a0annotations:\n6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert-manager.io/issuer: \"letsencrypt-prod\"\n7\u00a0\u00a0\u00a0spec:\n8\u00a0\u00a0\u00a0\u00a0\u00a0tls:\n9\u00a0\u00a0\u00a0\u00a0\u00a0- hosts:\n10\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- <your dns prefix>.<your azure region>.cloudapp.azure.com\n11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0secretName: frontend-tls\n12\u00a0\u00a0\u00a0\u00a0rules:\n13\u00a0\u00a0\u00a0\u00a0- host: <your dns prefix>.<your azure region>.cloudapp.azure.com\n14\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0http:\n15\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paths:\n16\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- path: /\n17\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0backend:\n18\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serviceName: frontend\n19\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0servicePort: 80\n```", "```\nkubectl create -f certificate-issuer-prod.yaml\nkubectl apply -f ingress-with-tls-prod.yaml\n```", "```\nkubectl delete -f ingress-with-tls-prod.yaml\n```", "```\n    1\u00a0\u00a0\u00a0\u00a0apiVersion: extensions/v1beta1\n    2\u00a0\u00a0\u00a0\u00a0kind: Deployment\n    3\u00a0\u00a0\u00a0\u00a0metadata:\n    4\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name: oauth2-proxy\n    5\u00a0\u00a0\u00a0\u00a0spec:\n    6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0replicas: 1\n    7\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0selector:\n    8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0matchLabels:\n    9\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0app: oauth2-proxy\n    10\u00a0\u00a0\u00a0\u00a0\u00a0template:\n    11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0metadata:\n    12\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0labels:\n    13\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0app: oauth2-proxy\n    14\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0spec:\n    15\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0containers:\n    16\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- env:\n    17\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_PROVIDER\n    18\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: azure\n    19\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_AZURE_TENANT\n    20\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: <paste in directory ID>\n    21\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_CLIENT_ID\n    22\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: <paste in application ID>\n    23\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_CLIENT_SECRET\n    24\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: <paste in client secret>\n    25\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_COOKIE_SECRET\n    26\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: somethingveryrandom\n    27\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_HTTP_ADDRESS\n    28\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: \"0.0.0.0:4180\"\n    29\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_UPSTREAM\n    30\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: \"https://<your DNS prefix>.<your azure region>.cloudapp.azure.com/\"\n    31\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: OAUTH2_PROXY_EMAIL_DOMAINS\n    32\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0value: '*'\n    33\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0image: quay.io/pusher/oauth2_proxy:latest\n    34\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0imagePullPolicy: IfNotPresent\n    35\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name: oauth2-proxy\n    36\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ports:\n    37\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- containerPort: 4180\n    38\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocol: TCP\n    ```", "```\n    kubectl create -f oauth2_deployment.yaml\n    ```", "```\n    1\u00a0\u00a0\u00a0apiVersion: v1\n    2\u00a0\u00a0\u00a0kind: Service\n    3\u00a0\u00a0\u00a0metadata:\n    4\u00a0\u00a0\u00a0\u00a0\u00a0name: oauth2-proxy\n    5\u00a0\u00a0\u00a0\u00a0\u00a0namespace: default\n    6\u00a0\u00a0\u00a0spec:\n    7\u00a0\u00a0\u00a0\u00a0\u00a0ports:\n    8\u00a0\u00a0\u00a0\u00a0\u00a0- name: http\n    9\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0port: 4180\n    10\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0protocol: TCP\n    11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0targetPort: 4180\n    12\u00a0\u00a0\u00a0\u00a0selector:\n    13\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0app: oauth2-proxy\n    ```", "```\n    kubectl create oauth2_service.yaml\n    ```", "```\n    1\u00a0\u00a0\u00a0apiVersion: extensions/v1beta1\n    2\u00a0\u00a0\u00a0kind: Ingress\n    3\u00a0\u00a0\u00a0metadata:\n    4\u00a0\u00a0\u00a0\u00a0\u00a0name: oauth2-proxy-ingress\n    5\u00a0\u00a0\u00a0\u00a0\u00a0annotations:\n    6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0kubernetes.io/ingress.class: nginx\n    7\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert-manager.io/issuer: \"letsencrypt-prod\"\n    8\u00a0\u00a0\u00a0spec:\n    9\u00a0\u00a0\u00a0\u00a0\u00a0tls:\n    10\u00a0\u00a0\u00a0\u00a0\u00a0- hosts:\n    11\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- <your DNS prefix>.<your azure region>.cloudapp.azure.com\n    12\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0secretName: tls-secret\n    13\u00a0\u00a0\u00a0\u00a0\u00a0rules:\n    14\u00a0\u00a0\u00a0\u00a0\u00a0- host: <your DNS prefix>.<your azure region>.cloudapp.azure.com\n    15\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0http:\n    16\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paths:\n    17\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- path: /oauth2\n    18\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0backend:\n    19\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serviceName: oauth2-proxy\n    20\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0servicePort: 4180\n    ```", "```\n    kubectl create -f oauth2_ingress.yaml\n    ```", "```\n    1\u00a0\u00a0apiVersion: extensions/v1beta1\n    2\u00a0\u00a0kind: Ingress\n    3\u00a0\u00a0metadata:\n    4\u00a0\u00a0\u00a0\u00a0name: frontend-oauth2-ingress\n    5\u00a0\u00a0\u00a0\u00a0annotations:\n    6\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0kubernetes.io/ingress.class: nginx\n    7\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nginx.ingress.kubernetes.io/auth-url: \"http://oauth2-proxy.default.svc.cluster.local:4180/oauth2/auth\"\n    8\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0nginx.ingress.kubernetes.io/auth-signin: \"http://<your DNS prefix>.<your azure region>.cloudapp.azure.com/oauth2/start\"\n    9\u00a0\u00a0spec:\n    10\u00a0\u00a0\u00a0rules:\n    11\u00a0\u00a0\u00a0- host: <your DNS prefix>.<your azure region>.cloudapp.azure.com\n    12\u00a0\u00a0\u00a0\u00a0\u00a0http:\n    13\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0paths:\n    14\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- path: /\n    15\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0backend:\n    16\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serviceName: frontend\n    17\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0servicePort: 80 \n    ```", "```\n    kubectl create -f frontend-oauth2-ingress.yaml\n    ```", "```\nkubectl delete -f guestbook-all-in-one.yaml\nkubectl delete -f frontend-oauth2-ingress.yaml\nkubectl delete -f oauth2_ingress.yaml\nkubectl delete -f oauth2_deployment.yaml\nkubectl delete -f oauth2_service.yaml\nkubectl delete ns cert-manager\nhelm delete ingress\n```"]